<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Scheduling - MarketPace</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: 
                radial-gradient(circle at 20% 20%, rgba(120, 119, 198, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 119, 198, 0.12) 0%, transparent 50%),
                radial-gradient(circle at 40% 60%, rgba(0, 255, 255, 0.08) 0%, transparent 50%),
                linear-gradient(135deg, #0a0a0f 0%, #1a0d2e 30%, #0f1419 70%, #000000 100%);
            color: #e2e8f0;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(1px 1px at 25px 5px, rgba(255, 255, 255, 0.1), transparent),
                radial-gradient(1px 1px at 50px 25px, rgba(0, 255, 255, 0.1), transparent),
                radial-gradient(1px 1px at 125px 30px, rgba(255, 119, 198, 0.1), transparent);
            background-size: 150px 100px, 200px 120px, 250px 140px;
            pointer-events: none;
            z-index: -1;
        }

        .header {
            text-align: center;
            padding: 40px 20px;
            position: relative;
        }

        .header h1 {
            font-size: 36px;
            font-weight: 700;
            color: #ffd700;
            margin-bottom: 12px;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .header p {
            font-size: 18px;
            color: #94a3b8;
            margin-bottom: 30px;
        }

        .back-button {
            position: absolute;
            left: 20px;
            top: 20px;
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            color: #ffd700;
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .back-button:hover {
            background: rgba(255, 215, 0, 0.2);
            transform: translateY(-2px);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .tab-nav {
            display: flex;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 8px;
            margin-bottom: 30px;
            justify-content: center;
        }

        .tab-btn {
            background: none;
            border: none;
            color: #94a3b8;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            font-weight: 500;
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #00ffff, #0066ff);
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .card-title {
            font-size: 24px;
            font-weight: 600;
            color: #00ffff;
        }

        .btn {
            background: linear-gradient(135deg, #00ffff, #0066ff);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.3);
        }

        .btn-primary {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
        }

        /* Modern Schedule Header Styles */
        .schedule-header-card {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(10px);
        }

        .schedule-view-toggle {
            display: flex;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 12px;
            padding: 4px;
            gap: 4px;
        }

        .view-toggle-btn {
            background: none;
            border: none;
            color: #94a3b8;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            font-weight: 500;
        }

        .view-toggle-btn.active {
            background: linear-gradient(135deg, #00ffff, #0066ff);
            color: white;
            box-shadow: 0 4px 15px rgba(0, 255, 255, 0.3);
        }

        .schedule-actions {
            display: flex;
            gap: 12px;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }

        /* Date Navigation Card */
        .date-navigation-card {
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(0, 102, 255, 0.1));
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-date-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #00ffff;
        }

        .nav-date-btn:hover {
            background: rgba(0, 255, 255, 0.2);
            transform: scale(1.05);
        }

        .current-date-display {
            text-align: center;
        }

        .date-main {
            font-size: 28px;
            font-weight: 700;
            color: #00ffff;
            margin-bottom: 4px;
        }

        .date-year {
            font-size: 16px;
            color: #94a3b8;
            margin-bottom: 8px;
        }

        .date-status {
            font-size: 14px;
            color: #ffd700;
            background: rgba(255, 215, 0, 0.1);
            padding: 4px 12px;
            border-radius: 20px;
            display: inline-block;
        }

        /* Quick Stats Styles */
        .quick-stats-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 16px;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .stat-icon {
            font-size: 24px;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #00ffff, #0066ff);
            border-radius: 12px;
        }

        .stat-number {
            font-size: 24px;
            font-weight: 700;
            color: #00ffff;
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 13px;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Main Schedule Container */
        .main-schedule-container {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .time-grid-header {
            display: grid;
            grid-template-columns: repeat(9, 1fr);
            gap: 8px;
            margin-bottom: 24px;
            padding: 0 20px;
        }

        .time-slot {
            text-align: center;
            font-size: 12px;
            font-weight: 500;
            color: #94a3b8;
            padding: 8px 4px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }

        /* Modern Employee Cards */
        .employee-cards-container {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .modern-employee-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 20px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .modern-employee-card:hover {
            transform: translateY(-2px);
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .employee-profile-section {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
        }

        .employee-avatar {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 700;
            color: white;
            text-transform: uppercase;
        }

        .manager-avatar {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
        }

        .cashier-avatar {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .sales-avatar {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }

        .stock-avatar {
            background: linear-gradient(135deg, #8b5cf6, #a855f7);
        }

        .assistant-avatar {
            background: linear-gradient(135deg, #06b6d4, #0891b2);
        }

        .security-avatar {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
        }

        .employee-details {
            flex: 1;
        }

        .employee-name {
            font-size: 18px;
            font-weight: 600;
            color: #f8fafc;
            margin-bottom: 4px;
        }

        .employee-role {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .manager-role { color: #a78bfa; }
        .cashier-role { color: #34d399; }
        .sales-role { color: #fbbf24; }
        .stock-role { color: #c084fc; }
        .assistant-role { color: #22d3ee; }
        .security-role { color: #f87171; }

        .employee-status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: #94a3b8;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #10b981;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .employee-actions {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #94a3b8;
        }

        .action-btn:hover {
            background: rgba(0, 255, 255, 0.2);
            color: #00ffff;
            transform: scale(1.1);
        }

        /* Shift Visual Timeline */
        .shift-visual-timeline {
            position: relative;
            height: 40px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            margin-top: 12px;
            overflow: hidden;
        }

        .shift-block {
            position: absolute;
            height: 100%;
            border-radius: 6px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 4px 8px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .shift-block:hover {
            transform: translateY(-2px);
            z-index: 10;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .manager-shift {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            border: 1px solid rgba(99, 102, 241, 0.5);
        }

        .cashier-shift {
            background: linear-gradient(135deg, #10b981, #059669);
            border: 1px solid rgba(16, 185, 129, 0.5);
        }

        .sales-shift {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            border: 1px solid rgba(245, 158, 11, 0.5);
        }

        .break-shift {
            background: linear-gradient(135deg, #64748b, #475569);
            border: 1px solid rgba(100, 116, 139, 0.5);
        }

        .stock-shift {
            background: linear-gradient(135deg, #8b5cf6, #a855f7);
            border: 1px solid rgba(139, 92, 246, 0.5);
        }

        .assistant-shift {
            background: linear-gradient(135deg, #06b6d4, #0891b2);
            border: 1px solid rgba(6, 182, 212, 0.5);
        }

        .security-shift {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            border: 1px solid rgba(220, 38, 38, 0.5);
        }

        .shift-label {
            font-size: 10px;
            font-weight: 600;
            color: white;
            line-height: 1;
            margin-bottom: 2px;
        }

        .shift-task {
            font-size: 9px;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1;
        }

        /* Simple Header */
        .simple-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 12px;
            border: 1px solid rgba(0, 255, 255, 0.1);
        }

        .view-selector {
            display: flex;
            gap: 2px;
            background: rgba(0, 0, 0, 0.6);
            border-radius: 8px;
            padding: 4px;
        }

        .view-btn {
            padding: 10px 20px;
            background: transparent;
            border: none;
            color: #94a3b8;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
        }

        .view-btn.active {
            background: linear-gradient(135deg, #00ffff, #0066ff);
            color: white;
            box-shadow: 0 2px 8px rgba(0, 255, 255, 0.3);
        }

        .add-btn {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s ease;
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
        }

        .add-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
        }

        /* Calendar Container */
        .calendar-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(0, 255, 255, 0.1);
        }

        .date-header {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 24px;
            padding: 16px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 12px;
        }

        .nav-arrow {
            background: rgba(0, 255, 255, 0.1);
            border: 1px solid rgba(0, 255, 255, 0.3);
            color: #00ffff;
            width: 40px;
            height: 40px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
            transition: all 0.2s ease;
        }

        .nav-arrow:hover {
            background: rgba(0, 255, 255, 0.2);
            transform: scale(1.05);
        }

        .week-range {
            color: #e2e8f0;
            font-size: 18px;
            font-weight: 600;
            min-width: 200px;
            text-align: center;
        }

        /* Calendar Grid */
        .calendar-grid {
            display: grid;
            grid-template-columns: 100px repeat(7, 1fr);
            gap: 2px;
            background: 
                radial-gradient(circle at 50% 0%, rgba(0, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 0% 50%, rgba(255, 20, 147, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 100% 50%, rgba(155, 89, 182, 0.05) 0%, transparent 50%),
                rgba(0, 0, 0, 0.6);
            border-radius: 16px;
            overflow: hidden;
            min-height: 1100px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                0 0 60px rgba(0, 255, 255, 0.1),
                inset 0 0 60px rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(0, 255, 255, 0.2);
            position: relative;
        }
        
        .calendar-grid::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(0, 255, 255, 0.8) 30%, 
                rgba(255, 20, 147, 0.6) 70%, 
                transparent 100%);
            animation: scanline 4s ease-in-out infinite;
            z-index: 10;
        }
        
        @keyframes scanline {
            0%, 100% { transform: translateY(0); opacity: 0; }
            50% { transform: translateY(1100px); opacity: 1; }
        }

        .time-column {
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            flex-direction: column;
        }

        .time-header {
            height: 60px;
            background: rgba(0, 0, 0, 0.8);
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
        }

        .time-slot {
            height: 65px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #00ffff;
            font-size: 13px;
            font-weight: 700;
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
            background: 
                linear-gradient(90deg, 
                    rgba(0, 0, 0, 0.8) 0%, 
                    rgba(0, 255, 255, 0.05) 50%, 
                    rgba(0, 0, 0, 0.8) 100%);
            text-shadow: 
                0 0 8px rgba(0, 255, 255, 0.6),
                0 1px 4px rgba(0, 0, 0, 0.8);
            letter-spacing: 1px;
            transition: all 0.3s ease;
        }
        
        .time-slot:hover {
            background: 
                linear-gradient(90deg, 
                    rgba(0, 0, 0, 0.7) 0%, 
                    rgba(0, 255, 255, 0.1) 50%, 
                    rgba(0, 0, 0, 0.7) 100%);
            box-shadow: inset 0 0 15px rgba(0, 255, 255, 0.2);
        }

        .day-column {
            background: rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .day-header {
            height: 60px;
            background: 
                linear-gradient(135deg, 
                    rgba(0, 0, 0, 0.9) 0%, 
                    rgba(0, 255, 255, 0.1) 50%, 
                    rgba(0, 0, 0, 0.9) 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-bottom: 2px solid rgba(0, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .day-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(0, 255, 255, 0.2) 50%, 
                transparent 100%);
            animation: headerSweep 8s ease-in-out infinite;
        }
        
        @keyframes headerSweep {
            0% { left: -100%; }
            50% { left: 100%; }
            100% { left: -100%; }
        }

        .day-name {
            color: #00ffff;
            font-size: 12px;
            font-weight: 700;
            letter-spacing: 1.5px;
            text-shadow: 0 0 8px rgba(0, 255, 255, 0.6);
            z-index: 1;
            position: relative;
        }

        .day-number {
            color: #e2e8f0;
            font-size: 18px;
            font-weight: 800;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
            z-index: 1;
            position: relative;
        }

        .day-schedule {
            position: relative;
            height: 1105px;
            background: linear-gradient(to bottom, 
                rgba(0, 0, 0, 0.2) 0%, 
                rgba(0, 0, 0, 0.1) 30%,
                rgba(0, 255, 255, 0.02) 50%, 
                rgba(0, 0, 0, 0.1) 70%,
                rgba(0, 0, 0, 0.2) 100%);
            border-left: 1px solid rgba(0, 255, 255, 0.1);
        }

        /* Shift Blocks */
        .shift-block {
            position: absolute;
            left: 4px;
            right: 4px;
            border-radius: 8px;
            padding: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            backdrop-filter: blur(15px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .shift-block:hover {
            transform: translateX(3px) scale(1.02);
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 6px 24px rgba(0, 0, 0, 0.4);
            z-index: 10;
        }

        .shift-block.manager {
            background: linear-gradient(135deg, 
                rgba(255, 215, 0, 0.25) 0%, 
                rgba(255, 165, 0, 0.2) 50%, 
                rgba(218, 165, 32, 0.15) 100%);
            border: 2px solid rgba(255, 215, 0, 0.5);
            box-shadow: 
                0 0 20px rgba(255, 215, 0, 0.3),
                inset 0 0 20px rgba(255, 215, 0, 0.1);
        }

        .shift-block.cashier {
            background: linear-gradient(135deg, 
                rgba(0, 255, 127, 0.25) 0%, 
                rgba(46, 204, 113, 0.2) 50%, 
                rgba(39, 174, 96, 0.15) 100%);
            border: 2px solid rgba(0, 255, 127, 0.5);
            box-shadow: 
                0 0 20px rgba(0, 255, 127, 0.3),
                inset 0 0 20px rgba(0, 255, 127, 0.1);
        }

        .shift-block.sales {
            background: linear-gradient(135deg, 
                rgba(255, 20, 147, 0.25) 0%, 
                rgba(231, 76, 60, 0.2) 50%, 
                rgba(192, 57, 43, 0.15) 100%);
            border: 2px solid rgba(255, 20, 147, 0.5);
            box-shadow: 
                0 0 20px rgba(255, 20, 147, 0.3),
                inset 0 0 20px rgba(255, 20, 147, 0.1);
        }

        .shift-block.stock {
            background: linear-gradient(135deg, 
                rgba(52, 152, 219, 0.25) 0%, 
                rgba(41, 128, 185, 0.2) 50%, 
                rgba(44, 62, 80, 0.15) 100%);
            border: 2px solid rgba(52, 152, 219, 0.5);
            box-shadow: 
                0 0 20px rgba(52, 152, 219, 0.3),
                inset 0 0 20px rgba(52, 152, 219, 0.1);
        }

        .shift-block.assistant {
            background: linear-gradient(135deg, 
                rgba(155, 89, 182, 0.25) 0%, 
                rgba(142, 68, 173, 0.2) 50%, 
                rgba(125, 60, 152, 0.15) 100%);
            border: 2px solid rgba(155, 89, 182, 0.5);
            box-shadow: 
                0 0 20px rgba(155, 89, 182, 0.3),
                inset 0 0 20px rgba(155, 89, 182, 0.1);
        }

        .shift-block.security {
            background: linear-gradient(135deg, 
                rgba(231, 76, 60, 0.25) 0%, 
                rgba(192, 57, 43, 0.2) 50%, 
                rgba(169, 50, 38, 0.15) 100%);
            border: 2px solid rgba(231, 76, 60, 0.5);
            box-shadow: 
                0 0 20px rgba(231, 76, 60, 0.3),
                inset 0 0 20px rgba(231, 76, 60, 0.1);
        }

        .shift-info {
            color: white;
            font-size: 12px;
            font-weight: 700;
            line-height: 1.3;
            margin-bottom: 6px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7);
            letter-spacing: 0.5px;
        }

        .shift-time {
            color: rgba(255, 255, 255, 0.95);
            font-size: 11px;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7);
            letter-spacing: 0.3px;
        }

        /* Hour Grid Lines */
        .hour-grid {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 1;
        }

        .hour-line {
            position: absolute;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(0, 255, 255, 0.15) 10%, 
                rgba(0, 255, 255, 0.08) 50%, 
                rgba(0, 255, 255, 0.15) 90%, 
                transparent 100%);
        }

        .shift-block {
            z-index: 2;
        }

        /* Schedule Summary Bar */
        .schedule-summary-bar {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-top: 32px;
            padding: 24px;
            background: 
                radial-gradient(circle at 25% 25%, rgba(0, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(255, 20, 147, 0.1) 0%, transparent 50%),
                rgba(0, 0, 0, 0.5);
            border-radius: 16px;
            border: 2px solid rgba(0, 255, 255, 0.2);
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(0, 255, 255, 0.1),
                inset 0 0 40px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .schedule-summary-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(0, 255, 255, 0.1) 50%, 
                transparent 100%);
            animation: sweep 6s ease-in-out infinite;
        }
        
        @keyframes sweep {
            0% { left: -100%; }
            50% { left: 100%; }
            100% { left: -100%; }
        }

        .summary-item {
            text-align: center;
            padding: 20px;
            background: 
                radial-gradient(circle at center, rgba(0, 0, 0, 0.4) 0%, transparent 70%),
                rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            border: 1px solid rgba(0, 255, 255, 0.3);
            position: relative;
            z-index: 1;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        .summary-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.2);
            border-color: rgba(0, 255, 255, 0.5);
        }

        .summary-label {
            color: #94a3b8;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin-bottom: 12px;
            opacity: 0.8;
        }

        .summary-value {
            color: #00ffff;
            font-size: 24px;
            font-weight: 800;
            text-shadow: 
                0 0 10px rgba(0, 255, 255, 0.5),
                0 2px 4px rgba(0, 0, 0, 0.3);
            letter-spacing: 1px;
        }

        /* Voice Control Panel */
        .voice-control-panel {
            background: 
                radial-gradient(circle at 20% 20%, rgba(138, 43, 226, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 20, 147, 0.1) 0%, transparent 50%),
                rgba(0, 0, 0, 0.5);
            border-radius: 16px;
            border: 2px solid rgba(138, 43, 226, 0.3);
            padding: 24px;
            margin: 24px 0;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(138, 43, 226, 0.1),
                inset 0 0 40px rgba(0, 0, 0, 0.3);
        }

        .voice-control-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 20px;
        }

        .voice-icon {
            color: #8a2be2;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(138, 43, 226, 0.2);
            border-radius: 12px;
            border: 1px solid rgba(138, 43, 226, 0.4);
        }

        .voice-control-title {
            color: #e2e8f0;
            font-size: 20px;
            font-weight: 700;
            flex: 1;
        }

        .voice-status {
            color: #8a2be2;
            font-size: 14px;
            font-weight: 600;
            padding: 8px 16px;
            background: rgba(138, 43, 226, 0.1);
            border-radius: 20px;
            border: 1px solid rgba(138, 43, 226, 0.3);
        }

        .voice-controls {
            display: flex;
            gap: 16px;
            margin-bottom: 24px;
        }

        .voice-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border-radius: 12px;
            border: none;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .voice-btn.primary {
            background: linear-gradient(135deg, #8a2be2, #9932cc);
            color: white;
            box-shadow: 0 4px 16px rgba(138, 43, 226, 0.3);
        }

        .voice-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(138, 43, 226, 0.4);
        }

        .voice-btn.secondary {
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
            border: 1px solid rgba(231, 76, 60, 0.4);
        }

        .voice-examples {
            margin-bottom: 20px;
        }

        .example-title {
            color: #94a3b8;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .example-commands {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 8px;
        }

        .example-cmd {
            color: #8a2be2;
            font-size: 13px;
            padding: 8px 12px;
            background: rgba(138, 43, 226, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(138, 43, 226, 0.2);
            font-style: italic;
        }

        .voice-output {
            min-height: 60px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 16px;
            border: 1px solid rgba(138, 43, 226, 0.2);
            color: #e2e8f0;
            font-family: monospace;
            font-size: 14px;
        }

        /* Quick Add Panel */
        .quick-add-panel {
            background: 
                radial-gradient(circle at 30% 30%, rgba(0, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
                rgba(0, 0, 0, 0.5);
            border-radius: 16px;
            border: 2px solid rgba(0, 255, 255, 0.3);
            padding: 24px;
            margin: 24px 0;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(0, 255, 255, 0.1);
        }

        .panel-header {
            margin-bottom: 20px;
        }

        .panel-title {
            color: #00ffff;
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .panel-subtitle {
            color: #94a3b8;
            font-size: 14px;
        }

        .employee-roster {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 16px;
        }

        .employee-chip {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 16px;
            border-radius: 12px;
            cursor: grab;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 2px solid transparent;
        }

        .employee-chip:active {
            cursor: grabbing;
        }

        .employee-chip:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .employee-chip.manager {
            background: linear-gradient(135deg, 
                rgba(255, 215, 0, 0.2) 0%, 
                rgba(255, 165, 0, 0.15) 100%);
            border-color: rgba(255, 215, 0, 0.4);
        }

        .employee-chip.cashier {
            background: linear-gradient(135deg, 
                rgba(0, 255, 127, 0.2) 0%, 
                rgba(46, 204, 113, 0.15) 100%);
            border-color: rgba(0, 255, 127, 0.4);
        }

        .employee-chip.sales {
            background: linear-gradient(135deg, 
                rgba(255, 20, 147, 0.2) 0%, 
                rgba(231, 76, 60, 0.15) 100%);
            border-color: rgba(255, 20, 147, 0.4);
        }

        .employee-chip.stock {
            background: linear-gradient(135deg, 
                rgba(52, 152, 219, 0.2) 0%, 
                rgba(41, 128, 185, 0.15) 100%);
            border-color: rgba(52, 152, 219, 0.4);
        }

        .employee-chip.assistant {
            background: linear-gradient(135deg, 
                rgba(155, 89, 182, 0.2) 0%, 
                rgba(142, 68, 173, 0.15) 100%);
            border-color: rgba(155, 89, 182, 0.4);
        }

        .employee-chip.security {
            background: linear-gradient(135deg, 
                rgba(231, 76, 60, 0.2) 0%, 
                rgba(192, 57, 43, 0.15) 100%);
            border-color: rgba(231, 76, 60, 0.4);
        }

        .chip-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 700;
            color: white;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        .chip-name {
            color: white;
            font-size: 14px;
            font-weight: 700;
            margin-bottom: 4px;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
        }

        .chip-role {
            color: rgba(255, 255, 255, 0.8);
            font-size: 12px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Scale Selector Panel */
        .scale-selector-panel {
            background: 
                radial-gradient(circle at 20% 20%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(0, 255, 127, 0.1) 0%, transparent 50%),
                rgba(0, 0, 0, 0.5);
            border-radius: 16px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            padding: 24px;
            margin: 24px 0;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(255, 215, 0, 0.1);
        }

        .scale-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .scale-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            border-radius: 12px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            background: rgba(0, 0, 0, 0.3);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .scale-btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
            border-color: rgba(255, 215, 0, 0.6);
        }

        .scale-btn.active {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 165, 0, 0.1));
            border-color: #ffd700;
            box-shadow: 0 4px 16px rgba(255, 215, 0, 0.4);
        }

        .scale-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .scale-label {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .scale-count {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
        }

        .bulk-actions {
            border-top: 1px solid rgba(255, 215, 0, 0.3);
            padding-top: 20px;
        }

        .bulk-title {
            color: #ffd700;
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 16px;
        }

        .bulk-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
        }

        .bulk-btn {
            padding: 12px 16px;
            border-radius: 8px;
            border: 1px solid rgba(255, 215, 0, 0.4);
            background: rgba(255, 215, 0, 0.1);
            color: #ffd700;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .bulk-btn:hover {
            background: rgba(255, 215, 0, 0.2);
            transform: translateY(-2px);
        }

        /* Smart Employee Panel */
        .smart-employee-panel {
            background: 
                radial-gradient(circle at 30% 30%, rgba(52, 152, 219, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(155, 89, 182, 0.1) 0%, transparent 50%),
                rgba(0, 0, 0, 0.5);
            border-radius: 16px;
            border: 2px solid rgba(52, 152, 219, 0.3);
            padding: 24px;
            margin: 24px 0;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(52, 152, 219, 0.1);
        }

        .employee-filters {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: 16px;
            margin-bottom: 20px;
        }

        .filter-input, .filter-select {
            padding: 12px 16px;
            border-radius: 8px;
            border: 1px solid rgba(52, 152, 219, 0.4);
            background: rgba(0, 0, 0, 0.3);
            color: white;
            font-size: 14px;
        }

        .filter-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .filter-input:focus, .filter-select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }

        /* Responsive Employee Roster */
        .employee-roster {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 12px;
            max-height: 400px;
            overflow-y: auto;
            padding-right: 8px;
        }

        .employee-roster::-webkit-scrollbar {
            width: 6px;
        }

        .employee-roster::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 3px;
        }

        .employee-roster::-webkit-scrollbar-thumb {
            background: rgba(52, 152, 219, 0.5);
            border-radius: 3px;
        }

        /* Compact Employee Chips for Large Scale */
        .employee-chip.compact {
            padding: 12px;
            min-height: auto;
        }

        .employee-chip.compact .chip-avatar {
            width: 32px;
            height: 32px;
            font-size: 14px;
            margin-bottom: 6px;
        }

        .employee-chip.compact .chip-name {
            font-size: 12px;
            margin-bottom: 2px;
        }

        .employee-chip.compact .chip-role {
            font-size: 10px;
        }

        /* Pagination */
        .roster-pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 16px;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid rgba(52, 152, 219, 0.3);
        }

        .page-btn {
            padding: 8px 16px;
            border-radius: 6px;
            border: 1px solid rgba(52, 152, 219, 0.4);
            background: rgba(52, 152, 219, 0.1);
            color: #3498db;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .page-btn:hover {
            background: rgba(52, 152, 219, 0.2);
        }

        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .page-info {
            color: #3498db;
            font-size: 14px;
            font-weight: 600;
        }

        /* Large Scale Optimizations */
        @media (max-width: 768px) {
            .employee-filters {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .scale-options {
                grid-template-columns: 1fr;
            }
            
            .bulk-buttons {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* List View */
        .list-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(0, 255, 255, 0.1);
        }

        .employee-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .employee-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 12px;
            border: 1px solid rgba(0, 255, 255, 0.1);
            transition: all 0.2s ease;
        }

        .employee-item:hover {
            background: rgba(0, 0, 0, 0.6);
            border-color: rgba(0, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .employee-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 18px;
        }

        .employee-avatar.manager {
            background: linear-gradient(135deg, #8B4513, #A0522D);
        }

        .employee-avatar.cashier {
            background: linear-gradient(135deg, #228B22, #32CD32);
        }

        .employee-avatar.sales {
            background: linear-gradient(135deg, #FF8C00, #FFA500);
        }

        .employee-details {
            flex: 1;
        }

        .employee-name {
            color: #e2e8f0;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .employee-shifts {
            color: #94a3b8;
            font-size: 13px;
            line-height: 1.4;
        }

        .hours-total {
            color: #00ffff;
            font-size: 18px;
            font-weight: 700;
            text-align: center;
            min-width: 60px;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .calendar-grid {
                grid-template-columns: 60px repeat(7, 1fr);
            }
            
            .time-column {
                font-size: 10px;
            }
            
            .shift-info {
                font-size: 10px;
            }
            
            .shift-time {
                font-size: 9px;
            }
        }

        @media (max-width: 768px) {
            .simple-header {
                flex-direction: column;
                gap: 16px;
                text-align: center;
            }

            .calendar-container {
                padding: 16px;
            }

            .calendar-grid {
                grid-template-columns: 50px repeat(7, 1fr);
                min-height: 800px;
                gap: 0.5px;
            }

            .time-slot {
                height: 50px;
                font-size: 10px;
            }

            .day-schedule {
                height: 850px;
            }

            .day-header {
                height: 50px;
            }

            .day-name {
                font-size: 10px;
            }

            .day-number {
                font-size: 14px;
            }

            .shift-block {
                padding: 4px;
                left: 1px;
                right: 1px;
            }

            .shift-info {
                font-size: 9px;
                margin-bottom: 2px;
            }

            .shift-time {
                font-size: 8px;
            }

            .week-range {
                font-size: 16px;
            }

            .nav-arrow {
                width: 35px;
                height: 35px;
                font-size: 16px;
            }
        }

        @media (max-width: 480px) {
            .calendar-grid {
                grid-template-columns: 40px repeat(7, 1fr);
                min-height: 600px;
            }

            .time-slot {
                height: 40px;
                font-size: 8px;
            }

            .day-schedule {
                height: 640px;
            }

            .day-header {
                height: 40px;
            }

            .shift-block {
                padding: 2px;
            }

            .shift-info {
                font-size: 8px;
            }

            .shift-time {
                font-size: 7px;
            }
        }

        .time-labels-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            padding: 0 20px;
        }

        .time-label {
            font-size: 12px;
            color: #94a3b8;
            font-weight: 500;
        }

        .employee-schedule-grid {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .employee-schedule-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .employee-info-section {
            min-width: 180px;
            flex-shrink: 0;
        }

        .employee-name {
            font-size: 16px;
            font-weight: 600;
            color: #e2e8f0;
            margin-bottom: 4px;
        }

        .employee-role {
            font-size: 13px;
            color: #94a3b8;
            margin-bottom: 2px;
        }

        .employee-hours {
            font-size: 12px;
            color: #00ffff;
        }

        .shift-timeline {
            flex: 1;
            height: 40px;
            position: relative;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            overflow: hidden;
        }

        .shift-bar {
            position: absolute;
            top: 4px;
            bottom: 4px;
            border-radius: 6px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 10px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .shift-bar:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .shift-time {
            font-size: 9px;
            opacity: 0.9;
        }

        .shift-task {
            font-size: 8px;
            opacity: 0.8;
            margin-top: 1px;
        }

        .manager-shift {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
        }

        .cashier-shift {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .sales-shift {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }

        .break-shift {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .stock-shift {
            background: linear-gradient(135deg, #0891b2, #0e7490);
        }

        .assistant-shift {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
        }

        .security-shift {
            background: linear-gradient(135deg, #374151, #1f2937);
        }

        /* Summary Panel */
        .summary-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .summary-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 20px;
        }

        .summary-title {
            font-size: 18px;
            font-weight: 600;
            color: #00ffff;
            margin-bottom: 16px;
        }

        .summary-content {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .shift-summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .shift-time {
            font-weight: 600;
            color: #e2e8f0;
            margin-bottom: 4px;
        }

        .shift-employees {
            font-size: 14px;
            color: #94a3b8;
        }

        .employee-count {
            background: linear-gradient(135deg, #00ffff, #0066ff);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="header">
        <a href="javascript:history.back()" class="back-button">← Back</a>
        <h1>Business Scheduling</h1>
        <p>Advanced employee scheduling and shift management system</p>
    </div>

    <div class="container">
        <div class="tab-nav">
            <button class="tab-btn active" onclick="showTab('schedule')">Daily Schedule</button>
            <button class="tab-btn" onclick="showTab('employees')">Employees</button>
            <button class="tab-btn" onclick="showTab('volunteers')">Volunteers</button>
            <button class="tab-btn" onclick="showTab('qr-system')">QR System</button>
        </div>

        <!-- Daily Schedule Tab -->
        <div id="schedule" class="tab-content active">
            <!-- Simple Header -->
            <div class="simple-header">
                <div class="view-selector">
                    <button class="view-btn active" onclick="switchToView('calendar')">Calendar</button>
                    <button class="view-btn" onclick="switchToView('list')">List</button>
                </div>
                <button class="add-btn" onclick="addNewShift()">+ Add</button>
            </div>

            <!-- Calendar Graph Mode -->
            <div id="calendar-view" class="calendar-container">
                <!-- Date Header -->
                <div class="date-header">
                    <button class="nav-arrow" onclick="navigateWeek(-1)">‹</button>
                    <span class="week-range">July 20 - 26, 2025</span>
                    <button class="nav-arrow" onclick="navigateWeek(1)">›</button>
                </div>

                <!-- Calendar Grid -->
                <div class="calendar-grid">
                    <!-- Time Column -->
                    <div class="time-column">
                        <div class="time-header"></div>
                        <div class="time-slot">6 AM</div>
                        <div class="time-slot">7 AM</div>
                        <div class="time-slot">8 AM</div>
                        <div class="time-slot">9 AM</div>
                        <div class="time-slot">10 AM</div>
                        <div class="time-slot">11 AM</div>
                        <div class="time-slot">12 PM</div>
                        <div class="time-slot">1 PM</div>
                        <div class="time-slot">2 PM</div>
                        <div class="time-slot">3 PM</div>
                        <div class="time-slot">4 PM</div>
                        <div class="time-slot">5 PM</div>
                        <div class="time-slot">6 PM</div>
                        <div class="time-slot">7 PM</div>
                        <div class="time-slot">8 PM</div>
                        <div class="time-slot">9 PM</div>
                        <div class="time-slot">10 PM</div>
                    </div>

                    <!-- Days -->
                    <div class="day-column">
                        <div class="day-header">
                            <div class="day-name">MON</div>
                            <div class="day-number">20</div>
                        </div>
                        <div class="day-schedule">
                            <!-- Hour grid lines -->
                            <div class="hour-grid">
                                <div class="hour-line" style="top: 65px;"></div>
                                <div class="hour-line" style="top: 130px;"></div>
                                <div class="hour-line" style="top: 195px;"></div>
                                <div class="hour-line" style="top: 260px;"></div>
                                <div class="hour-line" style="top: 325px;"></div>
                                <div class="hour-line" style="top: 390px;"></div>
                                <div class="hour-line" style="top: 455px;"></div>
                                <div class="hour-line" style="top: 520px;"></div>
                                <div class="hour-line" style="top: 585px;"></div>
                                <div class="hour-line" style="top: 650px;"></div>
                                <div class="hour-line" style="top: 715px;"></div>
                                <div class="hour-line" style="top: 780px;"></div>
                                <div class="hour-line" style="top: 845px;"></div>
                                <div class="hour-line" style="top: 910px;"></div>
                                <div class="hour-line" style="top: 975px;"></div>
                                <div class="hour-line" style="top: 1040px;"></div>
                            </div>
                            <!-- Shift blocks -->
                            <div class="shift-block manager" style="top: 65px; height: 325px;" onclick="editShift('sarah-mon-7-12')">
                                <div class="shift-info">Sarah • Manager</div>
                                <div class="shift-time">7AM-12PM</div>
                            </div>
                            <div class="shift-block cashier" style="top: 195px; height: 325px;" onclick="editShift('mike-mon-9-2')">
                                <div class="shift-info">Mike • Cashier</div>
                                <div class="shift-time">9AM-2PM</div>
                            </div>
                            <div class="shift-block sales" style="top: 260px; height: 585px;" onclick="editShift('jessica-mon-10-7')">
                                <div class="shift-info">Jessica • Sales</div>
                                <div class="shift-time">10AM-7PM</div>
                            </div>
                        </div>
                    </div>

                    <div class="day-column">
                        <div class="day-header">
                            <div class="day-name">TUE</div>
                            <div class="day-number">21</div>
                        </div>
                        <div class="day-schedule">
                            <div class="hour-grid">
                                <div class="hour-line" style="top: 65px;"></div>
                                <div class="hour-line" style="top: 130px;"></div>
                                <div class="hour-line" style="top: 195px;"></div>
                                <div class="hour-line" style="top: 260px;"></div>
                                <div class="hour-line" style="top: 325px;"></div>
                                <div class="hour-line" style="top: 390px;"></div>
                                <div class="hour-line" style="top: 455px;"></div>
                                <div class="hour-line" style="top: 520px;"></div>
                                <div class="hour-line" style="top: 585px;"></div>
                                <div class="hour-line" style="top: 650px;"></div>
                                <div class="hour-line" style="top: 715px;"></div>
                                <div class="hour-line" style="top: 780px;"></div>
                                <div class="hour-line" style="top: 845px;"></div>
                                <div class="hour-line" style="top: 910px;"></div>
                                <div class="hour-line" style="top: 975px;"></div>
                                <div class="hour-line" style="top: 1040px;"></div>
                            </div>
                            <div class="shift-block stock" style="top: 0px; height: 390px;" onclick="editShift('david-tue-6-12')">
                                <div class="shift-info">David • Stock</div>
                                <div class="shift-time">6AM-12PM</div>
                            </div>
                            <div class="shift-block assistant" style="top: 520px; height: 520px;" onclick="editShift('emma-tue-2-10')">
                                <div class="shift-info">Emma • Assistant</div>
                                <div class="shift-time">2PM-10PM</div>
                            </div>
                        </div>
                    </div>

                    <div class="day-column">
                        <div class="day-header">
                            <div class="day-name">WED</div>
                            <div class="day-number">22</div>
                        </div>
                        <div class="day-schedule">
                            <div class="shift-block manager" style="top: 120px; height: 480px;" onclick="editShift('sarah-wed-8-4')">
                                <div class="shift-info">Sarah • Manager</div>
                                <div class="shift-time">8AM-4PM</div>
                            </div>
                            <div class="shift-block security" style="top: 720px; height: 240px;" onclick="editShift('carlos-wed-6-10')">
                                <div class="shift-info">Carlos • Security</div>
                                <div class="shift-time">6PM-10PM</div>
                            </div>
                        </div>
                    </div>

                    <div class="day-column">
                        <div class="day-header">
                            <div class="day-name">THU</div>
                            <div class="day-number">23</div>
                        </div>
                        <div class="day-schedule">
                            <div class="shift-block cashier" style="top: 300px; height: 300px;" onclick="editShift('mike-thu-11-4')">
                                <div class="shift-info">Mike • Cashier</div>
                                <div class="shift-time">11AM-4PM</div>
                            </div>
                            <div class="shift-block sales" style="top: 360px; height: 360px;" onclick="editShift('jessica-thu-12-6')">
                                <div class="shift-info">Jessica • Sales</div>
                                <div class="shift-time">12PM-6PM</div>
                            </div>
                        </div>
                    </div>

                    <div class="day-column">
                        <div class="day-header">
                            <div class="day-name">FRI</div>
                            <div class="day-number">24</div>
                        </div>
                        <div class="day-schedule">
                            <div class="shift-block manager" style="top: 180px; height: 360px;" onclick="editShift('sarah-fri-9-3')">
                                <div class="shift-info">Sarah • Manager</div>
                                <div class="shift-time">9AM-3PM</div>
                            </div>
                            <div class="shift-block assistant" style="top: 420px; height: 420px;" onclick="editShift('emma-fri-1-8')">
                                <div class="shift-info">Emma • Assistant</div>
                                <div class="shift-time">1PM-8PM</div>
                            </div>
                            <div class="shift-block security" style="top: 720px; height: 300px;" onclick="editShift('carlos-fri-6-11')">
                                <div class="shift-info">Carlos • Security</div>
                                <div class="shift-time">6PM-11PM</div>
                            </div>
                        </div>
                    </div>

                    <div class="day-column">
                        <div class="day-header">
                            <div class="day-name">SAT</div>
                            <div class="day-number">25</div>
                        </div>
                        <div class="day-schedule">
                            <div class="shift-block stock" style="top: 60px; height: 300px;" onclick="editShift('david-sat-7-12')">
                                <div class="shift-info">David • Stock</div>
                                <div class="shift-time">7AM-12PM</div>
                            </div>
                            <div class="shift-block sales" style="top: 240px; height: 480px;" onclick="editShift('jessica-sat-10-6')">
                                <div class="shift-info">Jessica • Sales</div>
                                <div class="shift-time">10AM-6PM</div>
                            </div>
                        </div>
                    </div>

                    <div class="day-column">
                        <div class="day-header">
                            <div class="day-name">SUN</div>
                            <div class="day-number">26</div>
                        </div>
                        <div class="day-schedule">
                            <div class="shift-block cashier" style="top: 360px; height: 240px;" onclick="editShift('mike-sun-12-4')">
                                <div class="shift-info">Mike • Cashier</div>
                                <div class="shift-time">12PM-4PM</div>
                            </div>
                            <div class="shift-block assistant" style="top: 480px; height: 300px;" onclick="editShift('emma-sun-2-7')">
                                <div class="shift-info">Emma • Assistant</div>
                                <div class="shift-time">2PM-7PM</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Voice Control Panel -->
            <div class="voice-control-panel">
                <div class="voice-control-header">
                    <div class="voice-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M12 1C10.34 1 9 2.34 9 4V12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12V4C15 2.34 13.66 1 12 1Z" fill="currentColor"/>
                            <path d="M19 10V12C19 16.42 15.42 20 11 20H9V22H11C16.52 22 21 17.52 21 12V10H19Z" fill="currentColor"/>
                        </svg>
                    </div>
                    <div class="voice-control-title">Voice Scheduling Assistant</div>
                    <div class="voice-status" id="voice-status">Ready to listen</div>
                </div>
                
                <div class="voice-controls">
                    <button class="voice-btn primary" id="start-voice" onclick="startVoiceRecognition()">
                        <span class="voice-btn-icon">🎤</span>
                        Start Voice Command
                    </button>
                    <button class="voice-btn secondary" id="stop-voice" onclick="stopVoiceRecognition()" style="display: none;">
                        <span class="voice-btn-icon">⏹️</span>
                        Stop Listening
                    </button>
                </div>
                
                <div class="voice-examples">
                    <div class="example-title">Try saying:</div>
                    <div class="example-commands">
                        <div class="example-cmd">"Schedule Sarah on Monday from 9 AM to 5 PM"</div>
                        <div class="example-cmd">"Add Mike to Tuesday morning shift"</div>
                        <div class="example-cmd">"Remove Jessica from Friday afternoon"</div>
                        <div class="example-cmd">"Show me employee availability"</div>
                    </div>
                </div>
                
                <div class="voice-output" id="voice-output"></div>
            </div>

            <!-- Scale Selector & Quick Actions Panel -->
            <div class="scale-selector-panel">
                <div class="panel-header">
                    <div class="panel-title">Event Scale & Quick Actions</div>
                    <div class="panel-subtitle">Optimize interface for your event size</div>
                </div>
                
                <div class="scale-options">
                    <button class="scale-btn active" data-scale="small" onclick="setEventScale('small')">
                        <div class="scale-icon">🏪</div>
                        <div class="scale-label">Small Business</div>
                        <div class="scale-count">5-20 people</div>
                    </button>
                    <button class="scale-btn" data-scale="medium" onclick="setEventScale('medium')">
                        <div class="scale-icon">🏢</div>
                        <div class="scale-label">Medium Event</div>
                        <div class="scale-count">20-100 people</div>
                    </button>
                    <button class="scale-btn" data-scale="large" onclick="setEventScale('large')">
                        <div class="scale-icon">🎪</div>
                        <div class="scale-label">Large Festival</div>
                        <div class="scale-count">100-500+ people</div>
                    </button>
                </div>
                
                <div class="bulk-actions" id="bulk-actions" style="display: none;">
                    <div class="bulk-title">Bulk Scheduling Actions</div>
                    <div class="bulk-buttons">
                        <button class="bulk-btn" onclick="bulkScheduleByRole()">Schedule by Role</button>
                        <button class="bulk-btn" onclick="bulkScheduleByDepartment()">Schedule by Department</button>
                        <button class="bulk-btn" onclick="autoFillShifts()">Auto-Fill Shifts</button>
                        <button class="bulk-btn" onclick="importSchedule()">Import Schedule</button>
                    </div>
                </div>
            </div>

            <!-- Smart Employee Management Panel -->
            <div class="smart-employee-panel" id="employee-panel">
                <div class="panel-header">
                    <div class="panel-title">Smart Employee Management</div>
                    <div class="panel-subtitle">
                        <span id="employee-count">6 employees</span> | 
                        <span id="filtered-count">6 visible</span>
                    </div>
                </div>
                
                <div class="employee-filters">
                    <input type="text" class="filter-input" id="employee-search" placeholder="Search employees..." onkeyup="filterEmployees()">
                    <select class="filter-select" id="role-filter" onchange="filterEmployees()">
                        <option value="">All Roles</option>
                        <option value="manager">Managers</option>
                        <option value="cashier">Cashiers</option>
                        <option value="sales">Sales</option>
                        <option value="stock">Stock</option>
                        <option value="assistant">Assistants</option>
                        <option value="security">Security</option>
                    </select>
                    <select class="filter-select" id="availability-filter" onchange="filterEmployees()">
                        <option value="">All Availability</option>
                        <option value="available">Available Now</option>
                        <option value="scheduled">Already Scheduled</option>
                        <option value="unavailable">Unavailable</option>
                    </select>
                </div>
                
                <div class="employee-roster" id="employee-roster">
                    <!-- Employees will be populated by JavaScript -->
                </div>
                
                <div class="roster-pagination" id="roster-pagination" style="display: none;">
                    <button class="page-btn" onclick="previousPage()">← Previous</button>
                    <span class="page-info" id="page-info">Page 1 of 25</span>
                    <button class="page-btn" onclick="nextPage()">Next →</button>
                </div>
            </div>

            <!-- Schedule Summary Bar -->
            <div class="schedule-summary-bar">
                <div class="summary-item">
                    <div class="summary-label">Total Hours</div>
                    <div class="summary-value">156h</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Employees</div>
                    <div class="summary-value">6 Active</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Labor Cost</div>
                    <div class="summary-value">$2,496</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Coverage</div>
                    <div class="summary-value">98%</div>
                </div>
            </div>

            <!-- List View (Hidden by default) -->
            <div id="list-view" class="list-container" style="display: none;">
                <div class="employee-list">
                    <div class="employee-item">
                        <div class="employee-avatar manager">S</div>
                        <div class="employee-details">
                            <div class="employee-name">Sarah Johnson</div>
                            <div class="employee-shifts">Mon 7AM-12PM • Wed 8AM-4PM • Fri 9AM-3PM</div>
                        </div>
                        <div class="hours-total">24h</div>
                    </div>
                    <div class="employee-item">
                        <div class="employee-avatar cashier">M</div>
                        <div class="employee-details">
                            <div class="employee-name">Mike Chen</div>
                            <div class="employee-shifts">Mon 9AM-2PM • Thu 11AM-4PM • Sun 12PM-4PM</div>
                        </div>
                        <div class="hours-total">18h</div>
                    </div>
                    <div class="employee-item">
                        <div class="employee-avatar sales">J</div>
                        <div class="employee-details">
                            <div class="employee-name">Jessica Martinez</div>
                            <div class="employee-shifts">Mon 10AM-7PM • Thu 12PM-6PM • Sat 10AM-6PM</div>
                        </div>
                        <div class="hours-total">25h</div>
                    </div>
                </div>
            </div>
        </div>
                </div>

                <!-- Summary Panel -->
                <div class="summary-panel">
                    <div class="summary-card">
                        <div class="summary-title">Shift Summary</div>
                        <div class="summary-content">
                            <div class="shift-summary-item">
                                <div>
                                    <div class="shift-time">5AM - 11AM</div>
                                    <div class="shift-employees">Stock/Inventory</div>
                                </div>
                                <div class="employee-count">1</div>
                            </div>
                            <div class="shift-summary-item">
                                <div>
                                    <div class="shift-time">7AM - 2PM</div>
                                    <div class="shift-employees">Management + Sales</div>
                                </div>
                                <div class="employee-count">3</div>
                            </div>
                            <div class="shift-summary-item">
                                <div>
                                    <div class="shift-time">2PM - 7PM</div>
                                    <div class="shift-employees">Peak Hours</div>
                                </div>
                                <div class="employee-count">3</div>
                            </div>
                            <div class="shift-summary-item">
                                <div>
                                    <div class="shift-time">6PM - 2AM</div>
                                    <div class="shift-employees">Evening/Security</div>
                                </div>
                                <div class="employee-count">2</div>
                            </div>
                        </div>
                    </div>

                    <div class="summary-card">
                        <div class="summary-title">Overlap Analysis</div>
                        <div class="summary-content">
                            <div class="shift-summary-item">
                                <div>
                                    <div class="shift-time">10AM - 12PM</div>
                                    <div class="shift-employees">Sarah, Mike, Jessica</div>
                                </div>
                                <div class="employee-count">3</div>
                            </div>
                            <div class="shift-summary-item">
                                <div>
                                    <div class="shift-time">12PM - 1PM</div>
                                    <div class="shift-employees">Sarah, Jessica</div>
                                </div>
                                <div class="employee-count">2</div>
                            </div>
                            <div class="shift-summary-item">
                                <div>
                                    <div class="shift-time">2PM - 6PM</div>
                                    <div class="shift-employees">Sarah, Jessica, Emma</div>
                                </div>
                                <div class="employee-count">3</div>
                            </div>
                            <div class="shift-summary-item">
                                <div>
                                    <div class="shift-time">6PM - 10PM</div>
                                    <div class="shift-employees">Emma, Carlos</div>
                                </div>
                                <div class="employee-count">2</div>
                            </div>
                        </div>
                    </div>

                    <div class="summary-card">
                        <div class="summary-title">Coverage Stats</div>
                        <div class="summary-content">
                            <div class="shift-summary-item">
                                <div>
                                    <div class="shift-time">Total Hours</div>
                                    <div class="shift-employees">Scheduled today</div>
                                </div>
                                <div class="employee-count">47</div>
                            </div>
                            <div class="shift-summary-item">
                                <div>
                                    <div class="shift-time">Peak Coverage</div>
                                    <div class="shift-employees">2PM - 6PM</div>
                                </div>
                                <div class="employee-count">3</div>
                            </div>
                            <div class="shift-summary-item">
                                <div>
                                    <div class="shift-time">Minimum Coverage</div>
                                    <div class="shift-employees">5AM - 7AM, 10PM - 2AM</div>
                                </div>
                                <div class="employee-count">1</div>
                            </div>
                            <div class="shift-summary-item">
                                <div>
                                    <div class="shift-time">Break Periods</div>
                                    <div class="shift-employees">Scheduled breaks</div>
                                </div>
                                <div class="employee-count">1</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Employees Tab -->
        <div id="employees" class="tab-content">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Smart Employee Management</h2>
                    <div style="display: flex; gap: 12px;">
                        <button class="btn btn-primary" onclick="showCreateShiftTemplates()">Create Shift Templates</button>
                        <button class="btn" onclick="showAddEmployeeModal()">Add Employee</button>
                    </div>
                </div>

                <!-- Quick Stats Bar -->
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 24px;">
                    <div style="background: rgba(255,215,0,0.1); border: 1px solid rgba(255,215,0,0.3); border-radius: 12px; padding: 16px; text-align: center;">
                        <div style="font-size: 28px; font-weight: bold; color: #ffd700;" id="totalEmployeesCount">6</div>
                        <div style="color: #94a3b8; font-size: 14px;">Total Employees</div>
                    </div>
                    <div style="background: rgba(0,255,255,0.1); border: 1px solid rgba(0,255,255,0.3); border-radius: 12px; padding: 16px; text-align: center;">
                        <div style="font-size: 28px; font-weight: bold; color: #00ffff;" id="scheduledToday">4</div>
                        <div style="color: #94a3b8; font-size: 14px;">Scheduled Today</div>
                    </div>
                    <div style="background: rgba(255,107,157,0.1); border: 1px solid rgba(255,107,157,0.3); border-radius: 12px; padding: 16px; text-align: center;">
                        <div style="font-size: 28px; font-weight: bold; color: #ff6b9d;" id="weeklyHours">156</div>
                        <div style="color: #94a3b8; font-size: 14px;">Weekly Hours</div>
                    </div>
                    <div style="background: rgba(0,255,136,0.1); border: 1px solid rgba(0,255,136,0.3); border-radius: 12px; padding: 16px; text-align: center;">
                        <div style="font-size: 28px; font-weight: bold; color: #00ff88;" id="avgWage">$18.75</div>
                        <div style="color: #94a3b8; font-size: 14px;">Avg Hourly</div>
                    </div>
                </div>

                <!-- Search and Filter -->
                <div style="display: flex; gap: 16px; margin-bottom: 24px;">
                    <input type="text" id="employeeSearch" placeholder="Search employees..." style="flex: 1; padding: 12px; border: 1px solid rgba(255,255,255,0.2); border-radius: 8px; background: rgba(0,0,0,0.3); color: white;" onkeyup="filterEmployees()">
                    <select id="roleFilter" style="padding: 12px; border: 1px solid rgba(255,255,255,0.2); border-radius: 8px; background: rgba(0,0,0,0.3); color: white;" onchange="filterEmployees()">
                        <option value="">All Roles</option>
                        <option value="Manager">Managers</option>
                        <option value="Cashier">Cashiers</option>
                        <option value="Sales">Sales</option>
                        <option value="Stock">Stock</option>
                        <option value="Assistant">Assistants</option>
                        <option value="Security">Security</option>
                    </select>
                    <select id="availabilityFilter" style="padding: 12px; border: 1px solid rgba(255,255,255,0.2); border-radius: 8px; background: rgba(0,0,0,0.3); color: white;" onchange="filterEmployees()">
                        <option value="">All Status</option>
                        <option value="Available">Available Now</option>
                        <option value="Scheduled">Currently Scheduled</option>
                        <option value="Off">Off Today</option>
                    </select>
                </div>

                <!-- Employee Grid Cards -->
                <div id="smartEmployeeGrid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 24px;">
                    <!-- Employee Cards will be dynamically generated -->
                </div>

                <!-- Selected Employee Scheduling Interface -->
                <div id="selectedEmployeeScheduling" style="display: none; background: rgba(0,0,0,0.4); border: 2px solid #00ffff; border-radius: 16px; padding: 24px; margin-top: 24px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <div>
                            <h3 id="selectedEmployeeName" style="color: #00ffff; margin: 0; font-size: 24px;"></h3>
                            <p id="selectedEmployeeRole" style="color: #94a3b8; margin: 4px 0 0 0;"></p>
                        </div>
                        <button onclick="closeEmployeeScheduling()" style="background: rgba(255,0,0,0.2); border: 1px solid rgba(255,0,0,0.5); color: #ff4444; padding: 8px 16px; border-radius: 6px; cursor: pointer;">Close</button>
                    </div>

                    <!-- Shift Templates Selection -->
                    <div style="margin-bottom: 20px;">
                        <h4 style="color: #ffd700; margin-bottom: 12px;">Quick Shift Templates</h4>
                        <div id="shiftTemplates" style="display: flex; gap: 12px; flex-wrap: wrap;">
                            <button class="shift-template" data-start="06:00" data-end="14:00" onclick="selectShiftTemplate(this)" style="background: rgba(255,215,0,0.2); border: 1px solid rgba(255,215,0,0.5); color: #ffd700; padding: 8px 16px; border-radius: 6px; cursor: pointer;">Morning Shift<br><small>6:00 AM - 2:00 PM</small></button>
                            <button class="shift-template" data-start="14:00" data-end="22:00" onclick="selectShiftTemplate(this)" style="background: rgba(0,255,255,0.2); border: 1px solid rgba(0,255,255,0.5); color: #00ffff; padding: 8px 16px; border-radius: 6px; cursor: pointer;">Afternoon Shift<br><small>2:00 PM - 10:00 PM</small></button>
                            <button class="shift-template" data-start="22:00" data-end="06:00" onclick="selectShiftTemplate(this)" style="background: rgba(255,107,157,0.2); border: 1px solid rgba(255,107,157,0.5); color: #ff6b9d; padding: 8px 16px; border-radius: 6px; cursor: pointer;">Night Shift<br><small>10:00 PM - 6:00 AM</small></button>
                            <button class="shift-template" data-start="09:00" data-end="17:00" onclick="selectShiftTemplate(this)" style="background: rgba(0,255,136,0.2); border: 1px solid rgba(0,255,136,0.5); color: #00ff88; padding: 8px 16px; border-radius: 6px; cursor: pointer;">Day Shift<br><small>9:00 AM - 5:00 PM</small></button>
                            <button onclick="showCustomTimeModal()" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.3); color: white; padding: 8px 16px; border-radius: 6px; cursor: pointer;">Custom Times<br><small>Set specific hours</small></button>
                        </div>
                    </div>

                    <!-- Calendar for Multi-Day Selection -->
                    <div style="margin-bottom: 20px;">
                        <h4 style="color: #ffd700; margin-bottom: 12px;">Select Multiple Days</h4>
                        <div id="multiDayCalendar" style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; background: rgba(0,0,0,0.3); padding: 16px; border-radius: 12px;">
                            <!-- Calendar days will be generated dynamically -->
                        </div>
                        <div style="margin-top: 12px; display: flex; gap: 12px;">
                            <button onclick="selectCalendarRange('thisWeek')" style="background: rgba(0,255,255,0.2); border: 1px solid rgba(0,255,255,0.5); color: #00ffff; padding: 6px 12px; border-radius: 6px; cursor: pointer; font-size: 12px;">This Week</button>
                            <button onclick="selectCalendarRange('nextWeek')" style="background: rgba(255,215,0,0.2); border: 1px solid rgba(255,215,0,0.5); color: #ffd700; padding: 6px 12px; border-radius: 6px; cursor: pointer; font-size: 12px;">Next Week</button>
                            <button onclick="selectCalendarRange('weekends')" style="background: rgba(255,107,157,0.2); border: 1px solid rgba(255,107,157,0.5); color: #ff6b9d; padding: 6px 12px; border-radius: 6px; cursor: pointer; font-size: 12px;">Weekends</button>
                            <button onclick="clearCalendarSelection()" style="background: rgba(255,0,0,0.2); border: 1px solid rgba(255,0,0,0.5); color: #ff4444; padding: 6px 12px; border-radius: 6px; cursor: pointer; font-size: 12px;">Clear</button>
                        </div>
                    </div>

                    <!-- Schedule Actions -->
                    <div style="display: flex; gap: 12px; justify-content: center;">
                        <button id="scheduleEmployeeBtn" onclick="scheduleSelectedEmployee()" style="background: linear-gradient(135deg, #00ffff, #0066ff); border: none; color: white; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: bold;">Schedule Selected Days</button>
                        <button onclick="viewEmployeeStats()" style="background: rgba(255,215,0,0.2); border: 1px solid rgba(255,215,0,0.5); color: #ffd700; padding: 12px 24px; border-radius: 8px; cursor: pointer;">View Stats & History</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Volunteers Tab -->
        <div id="volunteers" class="tab-content">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Volunteer Management</h2>
                    <button class="btn btn-primary" onclick="addVolunteer()">Add Volunteer</button>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <div style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 12px;">
                        <h3 style="color: #00ffff; margin-bottom: 16px;">Add New Volunteer</h3>
                        <form onsubmit="submitVolunteerForm(event)">
                            <div style="margin-bottom: 12px;">
                                <label style="display: block; color: #94a3b8; margin-bottom: 4px;">Volunteer Name</label>
                                <input type="text" id="volunteerName" style="width: 100%; padding: 8px; border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; background: rgba(0,0,0,0.2); color: white;" placeholder="Enter full name" required>
                            </div>
                            <div style="margin-bottom: 12px;">
                                <label style="display: block; color: #94a3b8; margin-bottom: 4px;">Skills/Interests</label>
                                <select id="volunteerSkills" style="width: 100%; padding: 8px; border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; background: rgba(0,0,0,0.2); color: white;">
                                    <option value="Event Setup">Event Setup</option>
                                    <option value="Customer Service">Customer Service</option>
                                    <option value="Social Media">Social Media</option>
                                    <option value="Photography">Photography</option>
                                    <option value="Cleanup">Cleanup</option>
                                    <option value="Food Service">Food Service</option>
                                </select>
                            </div>
                            <div style="margin-bottom: 12px;">
                                <label style="display: block; color: #94a3b8; margin-bottom: 4px;">Availability</label>
                                <select id="volunteerAvailability" style="width: 100%; padding: 8px; border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; background: rgba(0,0,0,0.2); color: white;">
                                    <option value="Weekends Only">Weekends Only</option>
                                    <option value="Weekdays Only">Weekdays Only</option>
                                    <option value="Flexible">Flexible</option>
                                    <option value="Events Only">Events Only</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary" style="width: 100%;">Add Volunteer</button>
                        </form>
                    </div>

                    <div style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 12px;">
                        <h3 style="color: #00ffff; margin-bottom: 16px;">Volunteer Stats</h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                            <div style="text-align: center;">
                                <div style="font-size: 24px; font-weight: bold; color: #ffd700;" id="totalVolunteers">12</div>
                                <div style="color: #94a3b8; font-size: 14px;">Total Volunteers</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 24px; font-weight: bold; color: #00ffff;" id="activeVolunteers">8</div>
                                <div style="color: #94a3b8; font-size: 14px;">Active This Week</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 24px; font-weight: bold; color: #ff6b9d;" id="volunteerHours">156</div>
                                <div style="color: #94a3b8; font-size: 14px;">Hours This Month</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 24px; font-weight: bold; color: #00ff88;" id="upcomingEvents">3</div>
                                <div style="color: #94a3b8; font-size: 14px;">Upcoming Events</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 12px;">
                    <h3 style="color: #00ffff; margin-bottom: 16px;">Current Volunteers</h3>
                    <div id="volunteerList" style="display: grid; gap: 12px;">
                        <div class="volunteer-item" style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                            <div>
                                <div style="font-weight: bold; color: white;">Alex Rivera</div>
                                <div style="color: #94a3b8; font-size: 14px;">Event Setup • Weekends Only</div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn" style="padding: 6px 12px; font-size: 12px;" onclick="editVolunteer('Alex Rivera')">Edit</button>
                                <button class="btn" style="padding: 6px 12px; font-size: 12px; background: rgba(255,0,0,0.2);" onclick="removeVolunteer('Alex Rivera')">Remove</button>
                            </div>
                        </div>
                        <div class="volunteer-item" style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                            <div>
                                <div style="font-weight: bold; color: white;">Maria Santos</div>
                                <div style="color: #94a3b8; font-size: 14px;">Customer Service • Flexible</div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn" style="padding: 6px 12px; font-size: 12px;" onclick="editVolunteer('Maria Santos')">Edit</button>
                                <button class="btn" style="padding: 6px 12px; font-size: 12px; background: rgba(255,0,0,0.2);" onclick="removeVolunteer('Maria Santos')">Remove</button>
                            </div>
                        </div>
                        <div class="volunteer-item" style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                            <div>
                                <div style="font-weight: bold; color: white;">James Kim</div>
                                <div style="color: #94a3b8; font-size: 14px;">Photography • Events Only</div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn" style="padding: 6px 12px; font-size: 12px;" onclick="editVolunteer('James Kim')">Edit</button>
                                <button class="btn" style="padding: 6px 12px; font-size: 12px; background: rgba(255,0,0,0.2);" onclick="removeVolunteer('James Kim')">Remove</button>
                            </div>
                        </div>
                        <div class="volunteer-item" style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                            <div>
                                <div style="font-weight: bold; color: white;">Sophie Chen</div>
                                <div style="color: #94a3b8; font-size: 14px;">Social Media • Weekdays Only</div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn" style="padding: 6px 12px; font-size: 12px;" onclick="editVolunteer('Sophie Chen')">Edit</button>
                                <button class="btn" style="padding: 6px 12px; font-size: 12px; background: rgba(255,0,0,0.2);" onclick="removeVolunteer('Sophie Chen')">Remove</button>
                            </div>
                        </div>
                        <div class="volunteer-item" style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                            <div>
                                <div style="font-weight: bold; color: white;">Carlos Rodriguez</div>
                                <div style="color: #94a3b8; font-size: 14px;">Food Service • Flexible</div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn" style="padding: 6px 12px; font-size: 12px;" onclick="editVolunteer('Carlos Rodriguez')">Edit</button>
                                <button class="btn" style="padding: 6px 12px; font-size: 12px; background: rgba(255,0,0,0.2);" onclick="removeVolunteer('Carlos Rodriguez')">Remove</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- QR System Tab -->
        <div id="qr-system" class="tab-content">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Employee QR System</h2>
                    <div style="display: flex; gap: 12px;">
                        <button class="btn btn-primary" onclick="window.open('/employee-geo-qr-system.html', '_blank')">Employee QR Generator</button>
                        <button class="btn" onclick="window.open('/scan-employee-qr.html', '_blank')">QR Scanner</button>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                    <div style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 12px;">
                        <h3 style="color: #00ffff; margin-bottom: 16px;">Employee Check-In</h3>
                        <p style="color: #94a3b8; margin-bottom: 16px;">Generate QR codes for employees to check in and out of shifts with GPS verification.</p>
                        <button class="btn" onclick="window.open('/employee-geo-qr-system.html', '_blank')">Generate QR Codes</button>
                    </div>
                    
                    <div style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 12px;">
                        <h3 style="color: #00ffff; margin-bottom: 16px;">QR Scanner</h3>
                        <p style="color: #94a3b8; margin-bottom: 16px;">Scan employee QR codes to verify check-ins and process automatic payments.</p>
                        <button class="btn" onclick="window.open('/scan-employee-qr.html', '_blank')">Open Scanner</button>
                    </div>
                    
                    <div style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 12px;">
                        <h3 style="color: #00ffff; margin-bottom: 16px;">Payment Processing</h3>
                        <p style="color: #94a3b8; margin-bottom: 16px;">Automatic payment calculation based on hourly rates and custom schedules.</p>
                        <button class="btn" onclick="showNotification('Payment system is operational', 'success')">Test Payment System</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));
            
            // Remove active class from all buttons
            const tabBtns = document.querySelectorAll('.tab-btn');
            tabBtns.forEach(btn => btn.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        function addNewShift() {
            showNotification('Shift creation modal would open here', 'success');
        }

        function generateQRCodes() {
            window.open('/employee-geo-qr-system.html', '_blank');
        }

        // Calendar View Functions
        function switchToView(viewType) {
            // Update active toggle button
            document.querySelectorAll('.view-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Show/hide appropriate view
            const calendarView = document.getElementById('calendar-view');
            const listView = document.getElementById('list-view');
            
            if (viewType === 'calendar') {
                calendarView.style.display = 'block';
                listView.style.display = 'none';
            } else {
                calendarView.style.display = 'none';
                listView.style.display = 'block';
            }
            
            showNotification(`Switched to ${viewType} view`, 'success');
        }

        function navigateWeek(direction) {
            const weekRange = document.querySelector('.week-range');
            const direction_text = direction > 0 ? 'next' : 'previous';
            
            // Get current week dates
            const currentText = weekRange.textContent;
            const [startDate, endDate, year] = currentText.split(/[-,\s]+/);
            
            // Calculate new week
            let newStart = parseInt(startDate) + (direction * 7);
            let newEnd = parseInt(endDate) + (direction * 7);
            
            // Handle month boundaries (simplified)
            if (newStart < 1) {
                newStart = 28 + newStart;
                newEnd = newStart + 6;
            } else if (newStart > 31) {
                newStart = newStart - 31;
                newEnd = newStart + 6;
            }
            
            // Animate the change
            weekRange.style.transform = 'scale(0.95)';
            weekRange.style.opacity = '0.7';
            
            setTimeout(() => {
                weekRange.textContent = `July ${newStart} - ${newEnd}, ${year}`;
                weekRange.style.transform = 'scale(1)';
                weekRange.style.opacity = '1';
                showNotification(`Navigated to ${direction_text} week`, 'success');
            }, 200);
        }

        function editShift(shiftId) {
            // Parse shift ID to get details
            const [employee, day, startTime, endTime] = shiftId.split('-');
            const employeeNames = {
                'sarah': 'Sarah Johnson',
                'mike': 'Mike Chen',
                'jessica': 'Jessica Martinez',
                'david': 'David Wilson',
                'emma': 'Emma Davis',
                'carlos': 'Carlos Rodriguez'
            };
            
            const employeeName = employeeNames[employee] || employee;
            const dayName = day.toUpperCase();
            
            showNotification(`Editing ${employeeName}'s shift on ${dayName}`, 'success');
        }

        function editEmployee(employeeId) {
            const employeeNames = {
                'sarah': 'Sarah Johnson',
                'mike': 'Mike Chen',
                'jessica': 'Jessica Martinez',
                'david': 'David Wilson',
                'emma': 'Emma Davis',
                'carlos': 'Carlos Rodriguez'
            };
            
            const employeeName = employeeNames[employeeId] || 'Employee';
            showNotification(`Opening edit form for ${employeeName}`, 'success');
        }

        function addEmployee() {
            showAddEmployeeModal();
        }

        function addVolunteer() {
            showNotification('Add new volunteer using the form above', 'success');
        }

        // Smart Employee Management System
        let selectedEmployee = null;
        let selectedShiftTemplate = null;
        let selectedCalendarDays = [];
        
        const employees = [
            { id: 1, name: 'Riley Thompson', role: 'Cashier', rate: 16.50, status: 'Available', avatar: 'R', color: '#10b981' },
            { id: 2, name: 'Morgan Casey', role: 'Cashier', rate: 17.00, status: 'Available', avatar: 'M', color: '#10b981' },
            { id: 3, name: 'Alex Rivera', role: 'Cashier', rate: 15.75, status: 'Off', avatar: 'A', color: '#10b981' },
            { id: 4, name: 'Jordan Kim', role: 'Cashier', rate: 16.25, status: 'Scheduled', avatar: 'J', color: '#10b981' },
            { id: 5, name: 'Casey Morgan', role: 'Cashier', rate: 18.00, status: 'Available', avatar: 'C', color: '#ffd700' },
            { id: 6, name: 'Sarah Johnson', role: 'Manager', rate: 22.00, status: 'Scheduled', avatar: 'S', color: '#ff6b9d' }
        ];

        function initializeSmartEmployeeManagement() {
            generateEmployeeCards();
            generateMultiDayCalendar();
        }

        function generateEmployeeCards() {
            const grid = document.getElementById('smartEmployeeGrid');
            grid.innerHTML = '';

            employees.forEach(employee => {
                const statusColor = {
                    'Available': '#00ff88',
                    'Scheduled': '#00ffff', 
                    'Off': '#ff6b9d'
                }[employee.status];

                const card = document.createElement('div');
                card.className = 'employee-card';
                card.dataset.employeeId = employee.id;
                card.style.cssText = `
                    background: rgba(0,0,0,0.4);
                    border: 2px solid rgba(255,255,255,0.1);
                    border-radius: 16px;
                    padding: 20px;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    position: relative;
                `;

                card.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px;">
                        <div style="width: 60px; height: 60px; background: ${employee.color}; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; font-weight: bold; color: white;">
                            ${employee.avatar}
                        </div>
                        <div style="flex: 1;">
                            <div style="font-size: 18px; font-weight: bold; color: white; margin-bottom: 4px;">${employee.name}</div>
                            <div style="color: #94a3b8; font-size: 14px;">${employee.role} • $${employee.rate}/hr</div>
                        </div>
                        <div style="width: 12px; height: 12px; background: ${statusColor}; border-radius: 50%; box-shadow: 0 0 8px ${statusColor};"></div>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="color: ${statusColor}; font-size: 14px; font-weight: 500;">${employee.status}</div>
                        <div style="display: flex; gap: 8px;">
                            <button onclick="viewEmployeeDetails(${employee.id}); event.stopPropagation();" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: white; padding: 6px 12px; border-radius: 6px; cursor: pointer; font-size: 12px;">View</button>
                            <button onclick="selectEmployeeForScheduling(${employee.id}); event.stopPropagation();" style="background: linear-gradient(135deg, #00ffff, #0066ff); border: none; color: white; padding: 6px 12px; border-radius: 6px; cursor: pointer; font-size: 12px; font-weight: bold;">Schedule</button>
                        </div>
                    </div>
                `;

                card.addEventListener('click', () => selectEmployeeForScheduling(employee.id));
                card.addEventListener('mouseenter', () => {
                    card.style.border = '2px solid #00ffff';
                    card.style.transform = 'translateY(-2px)';
                    card.style.boxShadow = '0 8px 32px rgba(0,255,255,0.3)';
                });
                card.addEventListener('mouseleave', () => {
                    if (selectedEmployee?.id !== employee.id) {
                        card.style.border = '2px solid rgba(255,255,255,0.1)';
                        card.style.transform = 'translateY(0)';
                        card.style.boxShadow = 'none';
                    }
                });

                grid.appendChild(card);
            });
        }

        function selectEmployeeForScheduling(employeeId) {
            selectedEmployee = employees.find(emp => emp.id === employeeId);
            
            // Update card styling
            document.querySelectorAll('.employee-card').forEach(card => {
                if (parseInt(card.dataset.employeeId) === employeeId) {
                    card.style.border = '2px solid #ffd700';
                    card.style.background = 'rgba(255,215,0,0.1)';
                    card.style.transform = 'translateY(-2px)';
                } else {
                    card.style.border = '2px solid rgba(255,255,255,0.1)';
                    card.style.background = 'rgba(0,0,0,0.4)';
                    card.style.transform = 'translateY(0)';
                }
            });

            // Show scheduling interface
            document.getElementById('selectedEmployeeScheduling').style.display = 'block';
            document.getElementById('selectedEmployeeName').textContent = selectedEmployee.name;
            document.getElementById('selectedEmployeeRole').textContent = `${selectedEmployee.role} • $${selectedEmployee.rate}/hr • ${selectedEmployee.status}`;

            // Reset selections
            selectedShiftTemplate = null;
            selectedCalendarDays = [];
            updateShiftTemplateSelection();
            updateCalendarSelection();

            showNotification(`Selected ${selectedEmployee.name} for scheduling`, 'success');
        }

        function closeEmployeeScheduling() {
            selectedEmployee = null;
            selectedShiftTemplate = null;
            selectedCalendarDays = [];
            
            document.getElementById('selectedEmployeeScheduling').style.display = 'none';
            
            // Reset card styling
            document.querySelectorAll('.employee-card').forEach(card => {
                card.style.border = '2px solid rgba(255,255,255,0.1)';
                card.style.background = 'rgba(0,0,0,0.4)';
                card.style.transform = 'translateY(0)';
            });
        }

        function selectShiftTemplate(button) {
            selectedShiftTemplate = {
                start: button.dataset.start,
                end: button.dataset.end,
                name: button.textContent.split('\n')[0]
            };
            updateShiftTemplateSelection();
            showNotification(`Selected ${selectedShiftTemplate.name}`, 'success');
        }

        function updateShiftTemplateSelection() {
            document.querySelectorAll('.shift-template').forEach(btn => {
                if (selectedShiftTemplate && btn.dataset.start === selectedShiftTemplate.start) {
                    btn.style.background = 'rgba(255,215,0,0.4)';
                    btn.style.borderColor = '#ffd700';
                    btn.style.transform = 'scale(1.05)';
                } else {
                    btn.style.transform = 'scale(1)';
                }
            });
        }

        function generateMultiDayCalendar() {
            const calendar = document.getElementById('multiDayCalendar');
            const today = new Date();
            const firstDay = new Date(today);
            firstDay.setDate(today.getDate() - today.getDay()); // Start of week

            // Day headers
            const dayHeaders = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            dayHeaders.forEach(day => {
                const header = document.createElement('div');
                header.style.cssText = 'text-align: center; color: #94a3b8; font-weight: bold; padding: 8px; font-size: 12px;';
                header.textContent = day;
                calendar.appendChild(header);
            });

            // Generate 4 weeks of calendar days
            for (let week = 0; week < 4; week++) {
                for (let day = 0; day < 7; day++) {
                    const currentDate = new Date(firstDay);
                    currentDate.setDate(firstDay.getDate() + (week * 7) + day);
                    
                    const dayElement = document.createElement('div');
                    dayElement.className = 'calendar-day';
                    dayElement.dataset.date = currentDate.toISOString().split('T')[0];
                    
                    const isToday = currentDate.toDateString() === today.toDateString();
                    const isPast = currentDate < today;
                    
                    dayElement.style.cssText = `
                        text-align: center;
                        padding: 12px 8px;
                        border-radius: 8px;
                        cursor: pointer;
                        border: 1px solid rgba(255,255,255,0.1);
                        transition: all 0.2s ease;
                        background: ${isPast ? 'rgba(255,255,255,0.05)' : 'rgba(255,255,255,0.08)'};
                        color: ${isPast ? '#666' : 'white'};
                        ${isToday ? 'border-color: #00ffff; background: rgba(0,255,255,0.1);' : ''}
                    `;
                    
                    dayElement.innerHTML = `
                        <div style="font-size: 14px; font-weight: bold;">${currentDate.getDate()}</div>
                        <div style="font-size: 10px; opacity: 0.7;">${currentDate.toLocaleDateString('en', {month: 'short'})}</div>
                    `;
                    
                    if (!isPast) {
                        dayElement.addEventListener('click', () => toggleCalendarDay(dayElement));
                    }
                    
                    calendar.appendChild(dayElement);
                }
            }
        }

        function toggleCalendarDay(dayElement) {
            const date = dayElement.dataset.date;
            const index = selectedCalendarDays.indexOf(date);
            
            if (index === -1) {
                selectedCalendarDays.push(date);
                dayElement.style.background = 'rgba(255,215,0,0.3)';
                dayElement.style.borderColor = '#ffd700';
                dayElement.style.transform = 'scale(1.05)';
            } else {
                selectedCalendarDays.splice(index, 1);
                dayElement.style.background = 'rgba(255,255,255,0.08)';
                dayElement.style.borderColor = 'rgba(255,255,255,0.1)';
                dayElement.style.transform = 'scale(1)';
            }
            
            updateScheduleButton();
        }

        function selectCalendarRange(range) {
            const today = new Date();
            clearCalendarSelection();
            
            if (range === 'thisWeek') {
                for (let i = 0; i < 7; i++) {
                    const date = new Date(today);
                    date.setDate(today.getDate() - today.getDay() + i);
                    if (date >= today) {
                        const dateStr = date.toISOString().split('T')[0];
                        selectedCalendarDays.push(dateStr);
                    }
                }
            } else if (range === 'nextWeek') {
                for (let i = 7; i < 14; i++) {
                    const date = new Date(today);
                    date.setDate(today.getDate() - today.getDay() + i);
                    const dateStr = date.toISOString().split('T')[0];
                    selectedCalendarDays.push(dateStr);
                }
            } else if (range === 'weekends') {
                for (let week = 0; week < 4; week++) {
                    // Saturday
                    const saturday = new Date(today);
                    saturday.setDate(today.getDate() - today.getDay() + 6 + (week * 7));
                    if (saturday >= today) {
                        selectedCalendarDays.push(saturday.toISOString().split('T')[0]);
                    }
                    
                    // Sunday
                    const sunday = new Date(today);
                    sunday.setDate(today.getDate() - today.getDay() + 7 + (week * 7));
                    if (sunday >= today) {
                        selectedCalendarDays.push(sunday.toISOString().split('T')[0]);
                    }
                }
            }
            
            updateCalendarSelection();
            updateScheduleButton();
        }

        function clearCalendarSelection() {
            selectedCalendarDays = [];
            updateCalendarSelection();
            updateScheduleButton();
        }

        function updateCalendarSelection() {
            document.querySelectorAll('.calendar-day').forEach(day => {
                const date = day.dataset.date;
                if (selectedCalendarDays.includes(date)) {
                    day.style.background = 'rgba(255,215,0,0.3)';
                    day.style.borderColor = '#ffd700';
                    day.style.transform = 'scale(1.05)';
                } else {
                    const isToday = new Date(date).toDateString() === new Date().toDateString();
                    day.style.background = isToday ? 'rgba(0,255,255,0.1)' : 'rgba(255,255,255,0.08)';
                    day.style.borderColor = isToday ? '#00ffff' : 'rgba(255,255,255,0.1)';
                    day.style.transform = 'scale(1)';
                }
            });
        }

        function updateScheduleButton() {
            const btn = document.getElementById('scheduleEmployeeBtn');
            if (selectedCalendarDays.length > 0 && selectedShiftTemplate) {
                btn.disabled = false;
                btn.style.opacity = '1';
                btn.textContent = `Schedule ${selectedCalendarDays.length} Day${selectedCalendarDays.length > 1 ? 's' : ''}`;
            } else {
                btn.disabled = true;
                btn.style.opacity = '0.5';
                btn.textContent = 'Select Days & Shift Template';
            }
        }

        function scheduleSelectedEmployee() {
            if (!selectedEmployee || selectedCalendarDays.length === 0 || !selectedShiftTemplate) {
                showNotification('Please select employee, days, and shift template', 'error');
                return;
            }

            const employeeName = selectedEmployee.name;
            const shiftName = selectedShiftTemplate.name;
            const dayCount = selectedCalendarDays.length;
            
            // Simulate scheduling (in real app, this would save to database)
            showNotification(`Successfully scheduled ${employeeName} for ${dayCount} day${dayCount > 1 ? 's' : ''} on ${shiftName}`, 'success');
            
            // Update employee status
            selectedEmployee.status = 'Scheduled';
            generateEmployeeCards();
            
            // Update stats
            const scheduledToday = document.getElementById('scheduledToday');
            scheduledToday.textContent = parseInt(scheduledToday.textContent) + 1;
            
            const weeklyHours = document.getElementById('weeklyHours');
            const hoursPerShift = calculateShiftHours(selectedShiftTemplate.start, selectedShiftTemplate.end);
            weeklyHours.textContent = parseInt(weeklyHours.textContent) + (dayCount * hoursPerShift);
            
            // Reset selections
            closeEmployeeScheduling();
        }

        function calculateShiftHours(startTime, endTime) {
            const start = new Date(`2000-01-01T${startTime}:00`);
            const end = new Date(`2000-01-01T${endTime}:00`);
            if (end < start) end.setDate(end.getDate() + 1); // Handle overnight shifts
            return (end - start) / (1000 * 60 * 60); // Convert to hours
        }

        function filterEmployees() {
            const search = document.getElementById('employeeSearch').value.toLowerCase();
            const roleFilter = document.getElementById('roleFilter').value;
            const statusFilter = document.getElementById('availabilityFilter').value;
            
            document.querySelectorAll('.employee-card').forEach(card => {
                const employeeId = parseInt(card.dataset.employeeId);
                const employee = employees.find(emp => emp.id === employeeId);
                
                const matchesSearch = employee.name.toLowerCase().includes(search);
                const matchesRole = !roleFilter || employee.role === roleFilter;
                const matchesStatus = !statusFilter || employee.status === statusFilter;
                
                if (matchesSearch && matchesRole && matchesStatus) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function viewEmployeeDetails(employeeId) {
            const employee = employees.find(emp => emp.id === employeeId);
            showNotification(`Viewing details for ${employee.name}`, 'success');
            // In a real app, this would open a detailed modal
        }

        function viewEmployeeStats() {
            if (!selectedEmployee) return;
            showNotification(`Viewing stats for ${selectedEmployee.name}`, 'success');
            // In a real app, this would show detailed analytics
        }

        function showCreateShiftTemplates() {
            showNotification('Opening shift template creator', 'success');
            // In a real app, this would open a modal to create custom shift templates
        }

        function showAddEmployeeModal() {
            showNotification('Opening employee creation form', 'success');
            // In a real app, this would open a modal to add new employees
        }

        function showCustomTimeModal() {
            showNotification('Opening custom time selector', 'success');
            // In a real app, this would open a modal for custom time selection
        }

        // Initialize smart employee management when the tab is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Small delay to ensure DOM is fully loaded
            setTimeout(initializeSmartEmployeeManagement, 100);
        });

        // Employee Management Functions
        function submitEmployeeForm(event) {
            event.preventDefault();
            
            const name = document.getElementById('employeeName').value;
            const role = document.getElementById('employeeRole').value;
            const rate = document.getElementById('employeeRate').value;
            
            // Add employee to the list
            const employeeList = document.getElementById('employeeList');
            const newEmployee = document.createElement('div');
            newEmployee.className = 'employee-item';
            newEmployee.style.cssText = 'display: flex; justify-content: space-between; align-items: center; padding: 12px; background: rgba(255,255,255,0.05); border-radius: 8px;';
            
            newEmployee.innerHTML = `
                <div>
                    <div style="font-weight: bold; color: white;">${name}</div>
                    <div style="color: #94a3b8; font-size: 14px;">${role} - $${parseFloat(rate).toFixed(2)}/hr</div>
                </div>
                <div style="display: flex; gap: 8px;">
                    <button class="btn" style="padding: 6px 12px; font-size: 12px;" onclick="editEmployee('${name}')">Edit</button>
                    <button class="btn" style="padding: 6px 12px; font-size: 12px; background: rgba(255,0,0,0.2);" onclick="removeEmployee('${name}')">Remove</button>
                </div>
            `;
            
            employeeList.appendChild(newEmployee);
            
            // Update stats
            const totalEmployees = document.getElementById('totalEmployees');
            totalEmployees.textContent = parseInt(totalEmployees.textContent) + 1;
            
            // Clear form
            document.getElementById('employeeName').value = '';
            document.getElementById('employeeRate').value = '';
            
            showNotification(`Added ${name} as ${role}`, 'success');
        }

        function editEmployee(name) {
            showNotification(`Opening edit form for ${name}`, 'success');
        }

        function removeEmployee(name) {
            const employeeItems = document.querySelectorAll('.employee-item');
            employeeItems.forEach(item => {
                if (item.textContent.includes(name)) {
                    item.remove();
                    
                    // Update stats
                    const totalEmployees = document.getElementById('totalEmployees');
                    totalEmployees.textContent = parseInt(totalEmployees.textContent) - 1;
                    
                    showNotification(`Removed ${name} from employee list`, 'success');
                }
            });
        }

        // Volunteer Management Functions
        function submitVolunteerForm(event) {
            event.preventDefault();
            
            const name = document.getElementById('volunteerName').value;
            const skills = document.getElementById('volunteerSkills').value;
            const availability = document.getElementById('volunteerAvailability').value;
            
            // Add volunteer to the list
            const volunteerList = document.getElementById('volunteerList');
            const newVolunteer = document.createElement('div');
            newVolunteer.className = 'volunteer-item';
            newVolunteer.style.cssText = 'display: flex; justify-content: space-between; align-items: center; padding: 12px; background: rgba(255,255,255,0.05); border-radius: 8px;';
            
            newVolunteer.innerHTML = `
                <div>
                    <div style="font-weight: bold; color: white;">${name}</div>
                    <div style="color: #94a3b8; font-size: 14px;">${skills} • ${availability}</div>
                </div>
                <div style="display: flex; gap: 8px;">
                    <button class="btn" style="padding: 6px 12px; font-size: 12px;" onclick="editVolunteer('${name}')">Edit</button>
                    <button class="btn" style="padding: 6px 12px; font-size: 12px; background: rgba(255,0,0,0.2);" onclick="removeVolunteer('${name}')">Remove</button>
                </div>
            `;
            
            volunteerList.appendChild(newVolunteer);
            
            // Update stats
            const totalVolunteers = document.getElementById('totalVolunteers');
            totalVolunteers.textContent = parseInt(totalVolunteers.textContent) + 1;
            
            // Clear form
            document.getElementById('volunteerName').value = '';
            
            showNotification(`Added ${name} as volunteer for ${skills}`, 'success');
        }

        function editVolunteer(name) {
            showNotification(`Opening edit form for ${name}`, 'success');
        }

        function removeVolunteer(name) {
            const volunteerItems = document.querySelectorAll('.volunteer-item');
            volunteerItems.forEach(item => {
                if (item.textContent.includes(name)) {
                    item.remove();
                    
                    // Update stats
                    const totalVolunteers = document.getElementById('totalVolunteers');
                    totalVolunteers.textContent = parseInt(totalVolunteers.textContent) - 1;
                    
                    showNotification(`Removed ${name} from volunteer list`, 'success');
                }
            });
        }

        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 16px 20px;
                border-radius: 8px;
                color: white;
                font-weight: 500;
                z-index: 1001;
                animation: slideIn 0.3s ease;
                background: ${type === 'success' ? 'linear-gradient(135deg, #10b981, #059669)' : 'linear-gradient(135deg, #ef4444, #dc2626)'};
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Voice Recognition System
        let recognition = null;
        let isListening = false;

        function initializeVoiceRecognition() {
            if ('webkitSpeechRecognition' in window) {
                recognition = new webkitSpeechRecognition();
            } else if ('SpeechRecognition' in window) {
                recognition = new SpeechRecognition();
            } else {
                console.warn('Speech recognition not supported');
                document.getElementById('start-voice').disabled = true;
                document.getElementById('voice-status').textContent = 'Voice recognition not supported';
                return false;
            }

            recognition.continuous = true;
            recognition.interimResults = true;
            recognition.lang = 'en-US';

            recognition.onstart = function() {
                isListening = true;
                document.getElementById('voice-status').textContent = 'Listening...';
                document.getElementById('start-voice').style.display = 'none';
                document.getElementById('stop-voice').style.display = 'flex';
                
                // Add pulsing animation to voice icon
                document.querySelector('.voice-icon').style.animation = 'pulse 1.5s ease-in-out infinite';
            };

            recognition.onresult = function(event) {
                let transcript = '';
                for (let i = event.resultIndex; i < event.results.length; ++i) {
                    if (event.results[i].isFinal) {
                        transcript += event.results[i][0].transcript;
                    }
                }
                
                if (transcript.trim()) {
                    processVoiceCommand(transcript.trim());
                }
            };

            recognition.onerror = function(event) {
                console.error('Voice recognition error:', event.error);
                document.getElementById('voice-status').textContent = 'Error: ' + event.error;
                stopVoiceRecognition();
            };

            recognition.onend = function() {
                stopVoiceRecognition();
            };

            return true;
        }

        function startVoiceRecognition() {
            if (!recognition && !initializeVoiceRecognition()) {
                showNotification('Voice recognition not available', 'error');
                return;
            }

            try {
                recognition.start();
                updateVoiceOutput('🎤 Voice recognition started. Try saying a command...');
            } catch (error) {
                console.error('Error starting voice recognition:', error);
                showNotification('Could not start voice recognition', 'error');
            }
        }

        function stopVoiceRecognition() {
            if (recognition && isListening) {
                recognition.stop();
            }
            
            isListening = false;
            document.getElementById('voice-status').textContent = 'Ready to listen';
            document.getElementById('start-voice').style.display = 'flex';
            document.getElementById('stop-voice').style.display = 'none';
            
            // Remove pulsing animation
            document.querySelector('.voice-icon').style.animation = 'none';
        }

        function processVoiceCommand(command) {
            updateVoiceOutput(`🔊 Command received: "${command}"`);
            
            const cmd = command.toLowerCase();
            
            // Employee mapping
            const employees = {
                'sarah': { name: 'Sarah Johnson', role: 'manager' },
                'mike': { name: 'Mike Chen', role: 'cashier' },
                'jessica': { name: 'Jessica Martinez', role: 'sales' },
                'david': { name: 'David Wilson', role: 'stock' },
                'emma': { name: 'Emma Davis', role: 'assistant' },
                'carlos': { name: 'Carlos Rodriguez', role: 'security' }
            };

            // Day mapping
            const days = {
                'monday': 'mon', 'tuesday': 'tue', 'wednesday': 'wed', 
                'thursday': 'thu', 'friday': 'fri', 'saturday': 'sat', 'sunday': 'sun'
            };

            // Schedule employee commands
            if (cmd.includes('schedule') || cmd.includes('add')) {
                let employeeName = null;
                let day = null;
                let startTime = null;
                let endTime = null;

                // Find employee
                for (const [key, employee] of Object.entries(employees)) {
                    if (cmd.includes(key)) {
                        employeeName = key;
                        break;
                    }
                }

                // Find day
                for (const [dayName, dayShort] of Object.entries(days)) {
                    if (cmd.includes(dayName)) {
                        day = dayShort;
                        break;
                    }
                }

                // Extract time patterns
                const timeRegex = /(\d{1,2})\s*(am|pm|AM|PM)/g;
                const times = [...cmd.matchAll(timeRegex)];
                
                if (times.length >= 2) {
                    startTime = times[0][0];
                    endTime = times[1][0];
                } else if (cmd.includes('morning')) {
                    startTime = '9AM';
                    endTime = '12PM';
                } else if (cmd.includes('afternoon')) {
                    startTime = '1PM';
                    endTime = '5PM';
                } else if (cmd.includes('evening')) {
                    startTime = '6PM';
                    endTime = '10PM';
                }

                if (employeeName && day) {
                    const employee = employees[employeeName];
                    const timeInfo = startTime && endTime ? ` from ${startTime} to ${endTime}` : '';
                    updateVoiceOutput(`✅ Scheduling ${employee.name} on ${day.toUpperCase()}${timeInfo}`);
                    addEmployeeToSchedule(employeeName, day, startTime, endTime);
                    showNotification(`Scheduled ${employee.name} for ${day.toUpperCase()}${timeInfo}`, 'success');
                } else {
                    updateVoiceOutput('❌ Could not understand the scheduling command. Please specify employee and day.');
                }
            }
            // Remove employee commands
            else if (cmd.includes('remove') || cmd.includes('delete')) {
                let employeeName = null;
                let day = null;

                for (const [key, employee] of Object.entries(employees)) {
                    if (cmd.includes(key)) {
                        employeeName = key;
                        break;
                    }
                }

                for (const [dayName, dayShort] of Object.entries(days)) {
                    if (cmd.includes(dayName)) {
                        day = dayShort;
                        break;
                    }
                }

                if (employeeName && day) {
                    const employee = employees[employeeName];
                    updateVoiceOutput(`✅ Removing ${employee.name} from ${day.toUpperCase()}`);
                    removeEmployeeFromSchedule(employeeName, day);
                    showNotification(`Removed ${employee.name} from ${day.toUpperCase()}`, 'success');
                } else {
                    updateVoiceOutput('❌ Could not understand the removal command. Please specify employee and day.');
                }
            }
            // Show availability commands
            else if (cmd.includes('availability') || cmd.includes('show') || cmd.includes('who')) {
                updateVoiceOutput('📋 Current employee roster: Sarah (Manager), Mike (Cashier), Jessica (Sales), David (Stock), Emma (Assistant), Carlos (Security)');
                showNotification('Employee availability displayed', 'success');
            }
            // Help commands
            else if (cmd.includes('help') || cmd.includes('what can')) {
                updateVoiceOutput(`🤖 Voice commands available:
• "Schedule [name] on [day] from [start] to [end]"
• "Add [name] to [day] morning/afternoon/evening"
• "Remove [name] from [day]"
• "Show me employee availability"
• "Help" - Show this help`);
            }
            else {
                updateVoiceOutput(`❓ Command not recognized: "${command}". Try saying "help" for available commands.`);
            }
        }

        function updateVoiceOutput(message) {
            const output = document.getElementById('voice-output');
            const timestamp = new Date().toLocaleTimeString();
            output.innerHTML += `<div style="margin-bottom: 8px; color: #94a3b8;"><span style="color: #8a2be2;">[${timestamp}]</span> ${message}</div>`;
            output.scrollTop = output.scrollHeight;
        }

        function addEmployeeToSchedule(employee, day, startTime, endTime) {
            // This would integrate with the actual scheduling system
            console.log(`Adding ${employee} to ${day} from ${startTime} to ${endTime}`);
        }

        function removeEmployeeFromSchedule(employee, day) {
            // This would integrate with the actual scheduling system
            console.log(`Removing ${employee} from ${day}`);
        }

        // Drag and Drop Functionality
        function initializeDragAndDrop() {
            const employeeChips = document.querySelectorAll('.employee-chip');
            const daySchedules = document.querySelectorAll('.day-schedule');

            employeeChips.forEach(chip => {
                chip.addEventListener('dragstart', function(e) {
                    e.dataTransfer.setData('text/plain', JSON.stringify({
                        employee: this.dataset.employee,
                        role: this.dataset.role,
                        name: this.querySelector('.chip-name').textContent
                    }));
                    this.style.opacity = '0.5';
                });

                chip.addEventListener('dragend', function(e) {
                    this.style.opacity = '1';
                });
            });

            daySchedules.forEach(schedule => {
                schedule.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.style.backgroundColor = 'rgba(0, 255, 255, 0.1)';
                });

                schedule.addEventListener('dragleave', function(e) {
                    this.style.backgroundColor = '';
                });

                schedule.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.style.backgroundColor = '';
                    
                    const data = JSON.parse(e.dataTransfer.getData('text/plain'));
                    const dayName = this.closest('.day-column').querySelector('.day-name').textContent;
                    
                    // Calculate drop position to determine time
                    const rect = this.getBoundingClientRect();
                    const y = e.clientY - rect.top;
                    const hourHeight = 65; // Height of each hour slot
                    const startHour = 6; // Start at 6 AM
                    const dropHour = Math.floor(y / hourHeight) + startHour;
                    
                    const startTime = formatTime(dropHour);
                    const endTime = formatTime(dropHour + 4); // Default 4-hour shift
                    
                    showNotification(`Added ${data.name} to ${dayName} from ${startTime} to ${endTime}`, 'success');
                    
                    // Create visual shift block
                    createShiftBlock(this, data, y, startTime, endTime);
                });
            });
        }

        function createShiftBlock(container, employeeData, yPosition, startTime, endTime) {
            const shiftBlock = document.createElement('div');
            shiftBlock.className = `shift-block ${employeeData.role}`;
            shiftBlock.style.cssText = `
                position: absolute;
                top: ${yPosition}px;
                height: 260px; /* 4 hours * 65px */
                left: 4px;
                right: 4px;
                cursor: pointer;
            `;
            
            shiftBlock.innerHTML = `
                <div class="shift-info">${employeeData.name} • ${employeeData.role.charAt(0).toUpperCase() + employeeData.role.slice(1)}</div>
                <div class="shift-time">${startTime}-${endTime}</div>
            `;
            
            shiftBlock.onclick = function() {
                editShift(`${employeeData.employee}-${startTime}-${endTime}`);
            };
            
            container.appendChild(shiftBlock);
        }

        function formatTime(hour) {
            if (hour === 0) return '12AM';
            if (hour < 12) return hour + 'AM';
            if (hour === 12) return '12PM';
            return (hour - 12) + 'PM';
        }

        // CSS for pulse animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes pulse {
                0% { transform: scale(1); opacity: 1; }
                50% { transform: scale(1.1); opacity: 0.7; }
                100% { transform: scale(1); opacity: 1; }
            }
        `;
        document.head.appendChild(style);

        // Festival Scale Management System
        let currentScale = 'small';
        let employeeDatabase = [];
        let currentPage = 1;
        let employeesPerPage = 20;
        let filteredEmployees = [];

        function generateFestivalEmployees(count) {
            const roles = ['manager', 'cashier', 'sales', 'stock', 'assistant', 'security', 'performer', 'vendor', 'tech', 'cleanup'];
            const names = ['Alex', 'Jordan', 'Casey', 'Morgan', 'Taylor', 'Jamie', 'Riley', 'Avery', 'Quinn', 'Cameron'];
            const lastNames = ['Smith', 'Johnson', 'Brown', 'Davis', 'Wilson', 'Moore', 'Taylor', 'Anderson', 'Thomas', 'Jackson'];
            
            const employees = [];
            for (let i = 0; i < count; i++) {
                const role = roles[Math.floor(Math.random() * roles.length)];
                const firstName = names[Math.floor(Math.random() * names.length)];
                const lastName = lastNames[Math.floor(Math.random() * lastNames.length)];
                
                employees.push({
                    id: `emp_${i + 1}`,
                    name: `${firstName} ${lastName}`,
                    role: role,
                    department: getDepartmentByRole(role),
                    availability: Math.random() > 0.3 ? 'available' : 'unavailable',
                    scheduled: Math.random() > 0.7,
                    avatar: firstName.charAt(0).toUpperCase()
                });
            }
            return employees;
        }

        function getDepartmentByRole(role) {
            const departments = {
                'manager': 'Operations',
                'cashier': 'Sales',
                'sales': 'Sales',
                'stock': 'Logistics',
                'assistant': 'Operations',
                'security': 'Security',
                'performer': 'Entertainment',
                'vendor': 'Food & Beverage',
                'tech': 'Technical',
                'cleanup': 'Maintenance'
            };
            return departments[role] || 'General';
        }

        function setEventScale(scale) {
            currentScale = scale;
            
            // Update active button
            document.querySelectorAll('.scale-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-scale="${scale}"]`).classList.add('active');
            
            // Generate appropriate employee count
            let employeeCount;
            switch(scale) {
                case 'small':
                    employeeCount = 6;
                    employeesPerPage = 20;
                    break;
                case 'medium':
                    employeeCount = 50;
                    employeesPerPage = 25;
                    break;
                case 'large':
                    employeeCount = 500;
                    employeesPerPage = 20;
                    break;
            }
            
            // Show/hide bulk actions for medium and large scales
            const bulkActions = document.getElementById('bulk-actions');
            if (scale === 'small') {
                bulkActions.style.display = 'none';
            } else {
                bulkActions.style.display = 'block';
            }
            
            // Generate employee database
            if (scale === 'small') {
                employeeDatabase = [
                    { id: 'sarah', name: 'Sarah Johnson', role: 'manager', department: 'Operations', availability: 'available', scheduled: false, avatar: 'S' },
                    { id: 'mike', name: 'Mike Chen', role: 'cashier', department: 'Sales', availability: 'available', scheduled: false, avatar: 'M' },
                    { id: 'jessica', name: 'Jessica Martinez', role: 'sales', department: 'Sales', availability: 'available', scheduled: false, avatar: 'J' },
                    { id: 'david', name: 'David Wilson', role: 'stock', department: 'Logistics', availability: 'available', scheduled: false, avatar: 'D' },
                    { id: 'emma', name: 'Emma Davis', role: 'assistant', department: 'Operations', availability: 'available', scheduled: false, avatar: 'E' },
                    { id: 'carlos', name: 'Carlos Rodriguez', role: 'security', department: 'Security', availability: 'available', scheduled: false, avatar: 'C' }
                ];
            } else {
                employeeDatabase = generateFestivalEmployees(employeeCount);
            }
            
            currentPage = 1;
            filterEmployees();
            
            showNotification(`Switched to ${scale} scale with ${employeeCount} employees`, 'success');
            updateVoiceOutput(`📊 Event scale set to ${scale.toUpperCase()} - Managing ${employeeCount} employees`);
        }

        function filterEmployees() {
            const searchTerm = document.getElementById('employee-search').value.toLowerCase();
            const roleFilter = document.getElementById('role-filter').value;
            const availabilityFilter = document.getElementById('availability-filter').value;
            
            filteredEmployees = employeeDatabase.filter(employee => {
                const matchesSearch = employee.name.toLowerCase().includes(searchTerm) || 
                                    employee.role.toLowerCase().includes(searchTerm);
                const matchesRole = !roleFilter || employee.role === roleFilter;
                const matchesAvailability = !availabilityFilter || 
                    (availabilityFilter === 'available' && employee.availability === 'available') ||
                    (availabilityFilter === 'scheduled' && employee.scheduled) ||
                    (availabilityFilter === 'unavailable' && employee.availability === 'unavailable');
                
                return matchesSearch && matchesRole && matchesAvailability;
            });
            
            updateEmployeeDisplay();
        }

        function updateEmployeeDisplay() {
            const roster = document.getElementById('employee-roster');
            const startIndex = (currentPage - 1) * employeesPerPage;
            const endIndex = startIndex + employeesPerPage;
            const pageEmployees = filteredEmployees.slice(startIndex, endIndex);
            
            // Clear roster
            roster.innerHTML = '';
            
            // Add employees
            pageEmployees.forEach(employee => {
                const chip = createEmployeeChip(employee);
                roster.appendChild(chip);
            });
            
            // Update counts
            document.getElementById('employee-count').textContent = `${employeeDatabase.length} employees`;
            document.getElementById('filtered-count').textContent = `${filteredEmployees.length} visible`;
            
            // Update pagination
            updatePagination();
            
            // Apply compact styling for large scale
            if (currentScale === 'large') {
                roster.querySelectorAll('.employee-chip').forEach(chip => {
                    chip.classList.add('compact');
                });
            }
        }

        function createEmployeeChip(employee) {
            const chip = document.createElement('div');
            chip.className = `employee-chip ${employee.role}`;
            chip.draggable = true;
            chip.dataset.employee = employee.id;
            chip.dataset.role = employee.role;
            
            chip.innerHTML = `
                <div class="chip-avatar">${employee.avatar}</div>
                <div class="chip-name">${employee.name.split(' ')[0]}</div>
                <div class="chip-role">${employee.role}</div>
            `;
            
            // Add availability indicator
            if (employee.availability === 'unavailable') {
                chip.style.opacity = '0.5';
                chip.style.filter = 'grayscale(70%)';
            }
            if (employee.scheduled) {
                chip.style.border = '2px solid #ffd700';
            }
            
            return chip;
        }

        function updatePagination() {
            const pagination = document.getElementById('roster-pagination');
            const pageInfo = document.getElementById('page-info');
            
            const totalPages = Math.ceil(filteredEmployees.length / employeesPerPage);
            
            if (totalPages <= 1) {
                pagination.style.display = 'none';
            } else {
                pagination.style.display = 'flex';
                pageInfo.textContent = `Page ${currentPage} of ${totalPages}`;
                
                const prevBtn = pagination.querySelector('.page-btn');
                const nextBtn = pagination.querySelectorAll('.page-btn')[1];
                
                prevBtn.disabled = currentPage === 1;
                nextBtn.disabled = currentPage === totalPages;
            }
        }

        function previousPage() {
            if (currentPage > 1) {
                currentPage--;
                updateEmployeeDisplay();
            }
        }

        function nextPage() {
            const totalPages = Math.ceil(filteredEmployees.length / employeesPerPage);
            if (currentPage < totalPages) {
                currentPage++;
                updateEmployeeDisplay();
            }
        }

        // Bulk Scheduling Functions
        function bulkScheduleByRole() {
            const selectedRole = document.getElementById('role-filter').value;
            if (!selectedRole) {
                showNotification('Please select a role filter first', 'error');
                return;
            }
            
            const roleEmployees = employeeDatabase.filter(emp => emp.role === selectedRole);
            showNotification(`Bulk scheduling ${roleEmployees.length} ${selectedRole}s`, 'success');
            updateVoiceOutput(`📋 Bulk scheduling initiated for ${roleEmployees.length} ${selectedRole}s`);
        }

        function bulkScheduleByDepartment() {
            showNotification('Department-based bulk scheduling initiated', 'success');
            updateVoiceOutput('🏢 Scheduling employees by department groups');
        }

        function autoFillShifts() {
            showNotification('Auto-filling shifts based on availability and preferences', 'success');
            updateVoiceOutput('🤖 AI auto-fill algorithm initiated - optimizing coverage');
        }

        function importSchedule() {
            showNotification('Schedule import feature activated', 'success');
            updateVoiceOutput('📥 Ready to import schedule from CSV, Excel, or other scheduling systems');
        }

        // Enhanced Voice Commands for Large Scale
        function processVoiceCommandEnhanced(command) {
            const cmd = command.toLowerCase();
            
            // Bulk scheduling commands
            if (cmd.includes('bulk schedule') || cmd.includes('schedule all')) {
                if (cmd.includes('security')) {
                    document.getElementById('role-filter').value = 'security';
                    filterEmployees();
                    bulkScheduleByRole();
                } else if (cmd.includes('manager')) {
                    document.getElementById('role-filter').value = 'manager';
                    filterEmployees();
                    bulkScheduleByRole();
                } else {
                    autoFillShifts();
                }
                return true;
            }
            
            // Filter commands
            if (cmd.includes('show only') || cmd.includes('filter')) {
                if (cmd.includes('available')) {
                    document.getElementById('availability-filter').value = 'available';
                    filterEmployees();
                    updateVoiceOutput('✅ Showing only available employees');
                } else if (cmd.includes('security')) {
                    document.getElementById('role-filter').value = 'security';
                    filterEmployees();
                    updateVoiceOutput('🛡️ Showing only security staff');
                }
                return true;
            }
            
            // Scale commands
            if (cmd.includes('switch to') || cmd.includes('change scale')) {
                if (cmd.includes('large') || cmd.includes('festival')) {
                    setEventScale('large');
                } else if (cmd.includes('medium')) {
                    setEventScale('medium');
                } else if (cmd.includes('small')) {
                    setEventScale('small');
                }
                return true;
            }
            
            return false;
        }

        // Override the original voice command processor
        const originalProcessVoiceCommand = processVoiceCommand;
        processVoiceCommand = function(command) {
            if (!processVoiceCommandEnhanced(command)) {
                originalProcessVoiceCommand(command);
            }
        };

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Business Scheduling page loaded successfully');
            initializeVoiceRecognition();
            initializeDragAndDrop();
            
            // Initialize with small scale
            setEventScale('small');
            
            showNotification('Festival-scale scheduling system ready', 'success');
            
            // Welcome message
            setTimeout(() => {
                updateVoiceOutput('🚀 Festival Scheduling Assistant activated! Try "switch to large scale" for 500+ people management.');
            }, 1000);
        });
    </script>
</body>
</html>